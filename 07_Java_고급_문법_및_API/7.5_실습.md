# 7.5. 실습: Java 고급 문법 종합

## 학습 목표
- 제네릭, 컬렉션, Enum, 어노테이션을 종합적으로 활용한다
- 실전 프로젝트 수준의 코드를 작성한다
- JavaScript 개발 경험을 Java 고급 기능으로 확장한다

---

## 실습 1: 도서 관리 시스템 (기본)

### 문제 설명

제네릭과 컬렉션을 활용하여 도서 관리 시스템을 구현하세요.

### 요구사항

1. `Book` 클래스 작성
   - 필드: `title`, `author`, `isbn`, `status` (Enum)

2. `BookStatus` Enum 작성
   - 상수: `AVAILABLE`, `BORROWED`, `RESERVED`
   - 각 상태의 한글 표현 반환 메서드

3. `Library<T>` 제네릭 클래스 작성
   - `add()`: 항목 추가
   - `remove()`: 항목 제거
   - `findByTitle()`: 제목으로 검색
   - `getAll()`: 모든 항목 반환

### 예상 출력

```
=== 도서 추가 ===
도서 추가: 자바의 정석
도서 추가: 클린 코드

=== 전체 도서 목록 ===
[대여가능] 자바의 정석 - 남궁성 (ISBN: 978-1234567890)
[대여가능] 클린 코드 - 로버트 마틴 (ISBN: 978-0987654321)

=== 도서 대여 ===
'자바의 정석' 대여 완료

=== 도서 검색 ===
[대여중] 자바의 정석 - 남궁성 (ISBN: 978-1234567890)
```

<details>
<summary>답안 보기</summary>

```java
import java.util.*;

// 1. BookStatus Enum
enum BookStatus {
    AVAILABLE("대여가능"),
    BORROWED("대여중"),
    RESERVED("예약중");

    private final String koreanName;

    BookStatus(String koreanName) {
        this.koreanName = koreanName;
    }

    public String getKoreanName() {
        return koreanName;
    }
}

// 2. Book 클래스
class Book {
    private String title;
    private String author;
    private String isbn;
    private BookStatus status;

    public Book(String title, String author, String isbn) {
        this.title = title;
        this.author = author;
        this.isbn = isbn;
        this.status = BookStatus.AVAILABLE;
    }

    public String getTitle() {
        return title;
    }

    public BookStatus getStatus() {
        return status;
    }

    public void setStatus(BookStatus status) {
        this.status = status;
    }

    @Override
    public String toString() {
        return String.format("[%s] %s - %s (ISBN: %s)",
            status.getKoreanName(), title, author, isbn);
    }
}

// 3. Library 제네릭 클래스
class Library<T extends Book> {
    private List<T> items;

    public Library() {
        this.items = new ArrayList<>();
    }

    public void add(T item) {
        items.add(item);
        System.out.println("도서 추가: " + item.getTitle());
    }

    public boolean remove(T item) {
        boolean removed = items.remove(item);
        if (removed) {
            System.out.println("도서 제거: " + item.getTitle());
        }
        return removed;
    }

    public T findByTitle(String title) {
        for (T item : items) {
            if (item.getTitle().equals(title)) {
                return item;
            }
        }
        return null;
    }

    public List<T> getAll() {
        return new ArrayList<>(items);
    }

    public void printAll() {
        for (T item : items) {
            System.out.println(item);
        }
    }
}

// 4. 메인 클래스
public class LibrarySystem {
    public static void main(String[] args) {
        Library<Book> library = new Library<>();

        // 도서 추가
        System.out.println("=== 도서 추가 ===");
        Book book1 = new Book("자바의 정석", "남궁성", "978-1234567890");
        Book book2 = new Book("클린 코드", "로버트 마틴", "978-0987654321");
        library.add(book1);
        library.add(book2);
        System.out.println();

        // 전체 목록
        System.out.println("=== 전체 도서 목록 ===");
        library.printAll();
        System.out.println();

        // 도서 대여
        System.out.println("=== 도서 대여 ===");
        book1.setStatus(BookStatus.BORROWED);
        System.out.println("'" + book1.getTitle() + "' 대여 완료");
        System.out.println();

        // 도서 검색
        System.out.println("=== 도서 검색 ===");
        Book found = library.findByTitle("자바의 정석");
        if (found != null) {
            System.out.println(found);
        }
    }
}
```

</details>

---

## 실습 2: 학생 성적 관리 시스템 (중급)

### 문제 설명

제네릭, 컬렉션, Enum을 종합적으로 활용하여 학생 성적 관리 시스템을 구현하세요.

### 요구사항

1. `Grade` Enum 작성
   - 상수: `A`, `B`, `C`, `D`, `F`
   - 각 등급의 최소 점수 저장
   - 점수를 받아 등급을 반환하는 static 메서드

2. `Student` 클래스 작성
   - 필드: `name`, `studentId`, `scores` (Map<String, Integer>)
   - 과목별 점수 추가, 평균 계산, 등급 계산 메서드

3. `StudentManager` 클래스 작성
   - 학생 추가, 삭제, 검색
   - 전체 학생 평균 계산
   - 우수 학생 목록 (평균 90점 이상)

### 예상 출력

```
=== 학생 추가 ===
학생 추가: 김철수 (S001)
학생 추가: 이영희 (S002)

=== 성적 입력 ===
김철수 - 수학: 95점
김철수 - 영어: 88점
이영희 - 수학: 78점
이영희 - 영어: 92점

=== 학생별 성적 ===
[S001] 김철수 - 평균: 91.5점 (등급: A)
  수학: 95점
  영어: 88점

[S002] 이영희 - 평균: 85.0점 (등급: B)
  수학: 78점
  영어: 92점

=== 우수 학생 (평균 90점 이상) ===
김철수 (91.5점)
```

<details>
<summary>답안 보기</summary>

```java
import java.util.*;

// 1. Grade Enum
enum Grade {
    A(90), B(80), C(70), D(60), F(0);

    private final int minScore;

    Grade(int minScore) {
        this.minScore = minScore;
    }

    public int getMinScore() {
        return minScore;
    }

    public static Grade fromScore(double score) {
        if (score >= A.minScore) return A;
        if (score >= B.minScore) return B;
        if (score >= C.minScore) return C;
        if (score >= D.minScore) return D;
        return F;
    }
}

// 2. Student 클래스
class Student {
    private String name;
    private String studentId;
    private Map<String, Integer> scores;

    public Student(String name, String studentId) {
        this.name = name;
        this.studentId = studentId;
        this.scores = new HashMap<>();
    }

    public String getName() {
        return name;
    }

    public String getStudentId() {
        return studentId;
    }

    public void addScore(String subject, int score) {
        scores.put(subject, score);
        System.out.printf("%s - %s: %d점\n", name, subject, score);
    }

    public double getAverage() {
        if (scores.isEmpty()) return 0.0;

        int sum = 0;
        for (int score : scores.values()) {
            sum += score;
        }
        return (double) sum / scores.size();
    }

    public Grade getGrade() {
        return Grade.fromScore(getAverage());
    }

    public void printDetails() {
        System.out.printf("[%s] %s - 평균: %.1f점 (등급: %s)\n",
            studentId, name, getAverage(), getGrade());

        for (Map.Entry<String, Integer> entry : scores.entrySet()) {
            System.out.printf("  %s: %d점\n", entry.getKey(), entry.getValue());
        }
        System.out.println();
    }
}

// 3. StudentManager 클래스
class StudentManager {
    private List<Student> students;

    public StudentManager() {
        this.students = new ArrayList<>();
    }

    public void addStudent(Student student) {
        students.add(student);
        System.out.printf("학생 추가: %s (%s)\n",
            student.getName(), student.getStudentId());
    }

    public boolean removeStudent(String studentId) {
        return students.removeIf(s -> s.getStudentId().equals(studentId));
    }

    public Student findStudent(String studentId) {
        for (Student student : students) {
            if (student.getStudentId().equals(studentId)) {
                return student;
            }
        }
        return null;
    }

    public double getOverallAverage() {
        if (students.isEmpty()) return 0.0;

        double sum = 0;
        for (Student student : students) {
            sum += student.getAverage();
        }
        return sum / students.size();
    }

    public List<Student> getHonorStudents(double minAverage) {
        List<Student> honorStudents = new ArrayList<>();
        for (Student student : students) {
            if (student.getAverage() >= minAverage) {
                honorStudents.add(student);
            }
        }
        return honorStudents;
    }

    public void printAllStudents() {
        for (Student student : students) {
            student.printDetails();
        }
    }
}

// 4. 메인 클래스
public class GradeManagementSystem {
    public static void main(String[] args) {
        StudentManager manager = new StudentManager();

        // 학생 추가
        System.out.println("=== 학생 추가 ===");
        Student s1 = new Student("김철수", "S001");
        Student s2 = new Student("이영희", "S002");
        manager.addStudent(s1);
        manager.addStudent(s2);
        System.out.println();

        // 성적 입력
        System.out.println("=== 성적 입력 ===");
        s1.addScore("수학", 95);
        s1.addScore("영어", 88);
        s2.addScore("수학", 78);
        s2.addScore("영어", 92);
        System.out.println();

        // 학생별 성적
        System.out.println("=== 학생별 성적 ===");
        manager.printAllStudents();

        // 우수 학생
        System.out.println("=== 우수 학생 (평균 90점 이상) ===");
        List<Student> honorStudents = manager.getHonorStudents(90.0);
        for (Student student : honorStudents) {
            System.out.printf("%s (%.1f점)\n",
                student.getName(), student.getAverage());
        }
    }
}
```

</details>

---

## 실습 3: 주문 관리 시스템 (고급)

### 문제 설명

제네릭, 컬렉션, Enum, 어노테이션을 모두 활용하여 주문 관리 시스템을 구현하세요.

### 요구사항

1. `@NotNull` 어노테이션 작성
   - 필드에 적용
   - 런타임에 검증 가능

2. `OrderStatus` Enum 작성
   - 상수: `PENDING`, `CONFIRMED`, `SHIPPED`, `DELIVERED`, `CANCELLED`
   - 다음 상태로 전환하는 메서드
   - 취소 가능 여부 확인 메서드

3. `Product` 클래스 작성
   - 필드: `name`, `price`, `stock`

4. `Order` 클래스 작성
   - 필드: `orderId`, `customerName`, `products`, `status`
   - `@NotNull` 검증 적용

5. `OrderManager` 클래스 작성
   - 주문 생성, 상태 변경, 취소
   - 특정 상태의 주문 필터링

### 예상 출력

```
=== 주문 생성 ===
주문 생성: ORD-001 (김철수)

=== 주문 상세 ===
주문번호: ORD-001
고객명: 김철수
상태: 대기중 (PENDING)
주문 상품:
  노트북 - 1,000,000원 x 1개
  마우스 - 30,000원 x 2개
총 금액: 1,060,000원

=== 주문 진행 ===
주문 상태 변경: PENDING -> CONFIRMED
주문 상태 변경: CONFIRMED -> SHIPPED

=== 주문 취소 시도 ===
배송중 상태에서는 주문을 취소할 수 없습니다.
```

<details>
<summary>답안 보기</summary>

```java
import java.lang.annotation.*;
import java.lang.reflect.Field;
import java.util.*;

// 1. @NotNull 어노테이션
@Target(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
@interface NotNull {
    String message() default "null이 될 수 없습니다.";
}

// 검증 클래스
class Validator {
    public static void validate(Object obj) {
        Class<?> clazz = obj.getClass();
        Field[] fields = clazz.getDeclaredFields();

        for (Field field : fields) {
            if (field.isAnnotationPresent(NotNull.class)) {
                field.setAccessible(true);
                try {
                    Object value = field.get(obj);
                    if (value == null) {
                        NotNull annotation = field.getAnnotation(NotNull.class);
                        throw new IllegalArgumentException(
                            field.getName() + ": " + annotation.message()
                        );
                    }
                } catch (IllegalAccessException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}

// 2. OrderStatus Enum
enum OrderStatus {
    PENDING("대기중") {
        @Override
        public OrderStatus next() {
            return CONFIRMED;
        }

        @Override
        public boolean canCancel() {
            return true;
        }
    },
    CONFIRMED("확정됨") {
        @Override
        public OrderStatus next() {
            return SHIPPED;
        }

        @Override
        public boolean canCancel() {
            return true;
        }
    },
    SHIPPED("배송중") {
        @Override
        public OrderStatus next() {
            return DELIVERED;
        }

        @Override
        public boolean canCancel() {
            return false;
        }
    },
    DELIVERED("배송완료") {
        @Override
        public OrderStatus next() {
            throw new IllegalStateException("더 이상 진행할 수 없습니다.");
        }

        @Override
        public boolean canCancel() {
            return false;
        }
    },
    CANCELLED("취소됨") {
        @Override
        public OrderStatus next() {
            throw new IllegalStateException("취소된 주문입니다.");
        }

        @Override
        public boolean canCancel() {
            return false;
        }
    };

    private final String koreanName;

    OrderStatus(String koreanName) {
        this.koreanName = koreanName;
    }

    public String getKoreanName() {
        return koreanName;
    }

    public abstract OrderStatus next();
    public abstract boolean canCancel();
}

// 3. Product 클래스
class Product {
    @NotNull(message = "상품명은 필수입니다.")
    private String name;

    private int price;
    private int quantity;

    public Product(String name, int price, int quantity) {
        this.name = name;
        this.price = price;
        this.quantity = quantity;
        Validator.validate(this);
    }

    public String getName() {
        return name;
    }

    public int getPrice() {
        return price;
    }

    public int getQuantity() {
        return quantity;
    }

    public int getTotalPrice() {
        return price * quantity;
    }

    @Override
    public String toString() {
        return String.format("%s - %,d원 x %d개", name, price, quantity);
    }
}

// 4. Order 클래스
class Order {
    @NotNull(message = "주문번호는 필수입니다.")
    private String orderId;

    @NotNull(message = "고객명은 필수입니다.")
    private String customerName;

    private List<Product> products;
    private OrderStatus status;

    public Order(String orderId, String customerName) {
        this.orderId = orderId;
        this.customerName = customerName;
        this.products = new ArrayList<>();
        this.status = OrderStatus.PENDING;
        Validator.validate(this);
    }

    public String getOrderId() {
        return orderId;
    }

    public String getCustomerName() {
        return customerName;
    }

    public OrderStatus getStatus() {
        return status;
    }

    public void addProduct(Product product) {
        products.add(product);
    }

    public int getTotalAmount() {
        int total = 0;
        for (Product product : products) {
            total += product.getTotalPrice();
        }
        return total;
    }

    public void nextStatus() {
        OrderStatus oldStatus = status;
        status = status.next();
        System.out.printf("주문 상태 변경: %s -> %s\n", oldStatus, status);
    }

    public boolean cancel() {
        if (status.canCancel()) {
            status = OrderStatus.CANCELLED;
            System.out.println("주문이 취소되었습니다.");
            return true;
        } else {
            System.out.printf("%s 상태에서는 주문을 취소할 수 없습니다.\n",
                status.getKoreanName());
            return false;
        }
    }

    public void printDetails() {
        System.out.println("주문번호: " + orderId);
        System.out.println("고객명: " + customerName);
        System.out.printf("상태: %s (%s)\n", status.getKoreanName(), status);
        System.out.println("주문 상품:");
        for (Product product : products) {
            System.out.println("  " + product);
        }
        System.out.printf("총 금액: %,d원\n", getTotalAmount());
    }
}

// 5. OrderManager 클래스
class OrderManager {
    private Map<String, Order> orders;

    public OrderManager() {
        this.orders = new HashMap<>();
    }

    public void createOrder(Order order) {
        orders.put(order.getOrderId(), order);
        System.out.printf("주문 생성: %s (%s)\n",
            order.getOrderId(), order.getCustomerName());
    }

    public Order findOrder(String orderId) {
        return orders.get(orderId);
    }

    public List<Order> findOrdersByStatus(OrderStatus status) {
        List<Order> result = new ArrayList<>();
        for (Order order : orders.values()) {
            if (order.getStatus() == status) {
                result.add(order);
            }
        }
        return result;
    }

    public void printOrdersByStatus(OrderStatus status) {
        List<Order> filtered = findOrdersByStatus(status);
        System.out.printf("\n=== %s 주문 목록 (%d건) ===\n",
            status.getKoreanName(), filtered.size());
        for (Order order : filtered) {
            System.out.printf("%s - %s (총액: %,d원)\n",
                order.getOrderId(),
                order.getCustomerName(),
                order.getTotalAmount());
        }
    }
}

// 6. 메인 클래스
public class OrderManagementSystem {
    public static void main(String[] args) {
        OrderManager manager = new OrderManager();

        // 주문 생성
        System.out.println("=== 주문 생성 ===");
        Order order = new Order("ORD-001", "김철수");
        order.addProduct(new Product("노트북", 1000000, 1));
        order.addProduct(new Product("마우스", 30000, 2));
        manager.createOrder(order);
        System.out.println();

        // 주문 상세
        System.out.println("=== 주문 상세 ===");
        order.printDetails();
        System.out.println();

        // 주문 진행
        System.out.println("=== 주문 진행 ===");
        order.nextStatus();  // CONFIRMED
        order.nextStatus();  // SHIPPED
        System.out.println();

        // 취소 시도 (실패)
        System.out.println("=== 주문 취소 시도 ===");
        order.cancel();
        System.out.println();

        // 상태별 조회
        Order order2 = new Order("ORD-002", "이영희");
        order2.addProduct(new Product("키보드", 50000, 1));
        manager.createOrder(order2);

        manager.printOrdersByStatus(OrderStatus.PENDING);
        manager.printOrdersByStatus(OrderStatus.SHIPPED);
    }
}
```

</details>

---

## 실습 4: 제네릭 유틸리티 클래스 (심화)

### 문제 설명

JavaScript의 배열 메서드를 Java 제네릭으로 구현하세요.

### 요구사항

`ArrayUtils<T>` 제네릭 유틸리티 클래스 작성:
- `filter()`: 조건에 맞는 요소만 필터링
- `map()`: 각 요소를 변환
- `reduce()`: 누적 연산
- `findFirst()`: 첫 번째 매칭 요소 찾기

### JavaScript 참고 코드

```javascript
const numbers = [1, 2, 3, 4, 5];

// filter
const evens = numbers.filter(n => n % 2 === 0);

// map
const doubled = numbers.map(n => n * 2);

// reduce
const sum = numbers.reduce((acc, n) => acc + n, 0);

// find
const firstEven = numbers.find(n => n % 2 === 0);
```

### 예상 출력

```
원본: [1, 2, 3, 4, 5]
짝수 필터링: [2, 4]
2배로 변환: [2, 4, 6, 8, 10]
합계: 15
첫 번째 짝수: 2
```

<details>
<summary>답안 보기</summary>

```java
import java.util.*;
import java.util.function.*;

// 함수형 인터페이스
@FunctionalInterface
interface Predicate<T> {
    boolean test(T t);
}

@FunctionalInterface
interface Function<T, R> {
    R apply(T t);
}

@FunctionalInterface
interface BiFunction<T, U, R> {
    R apply(T t, U u);
}

// ArrayUtils 제네릭 클래스
class ArrayUtils<T> {
    private List<T> list;

    public ArrayUtils(List<T> list) {
        this.list = new ArrayList<>(list);
    }

    // filter: 조건에 맞는 요소만 필터링
    public ArrayUtils<T> filter(Predicate<T> predicate) {
        List<T> result = new ArrayList<>();
        for (T item : list) {
            if (predicate.test(item)) {
                result.add(item);
            }
        }
        return new ArrayUtils<>(result);
    }

    // map: 각 요소를 변환
    public <R> ArrayUtils<R> map(Function<T, R> mapper) {
        List<R> result = new ArrayList<>();
        for (T item : list) {
            result.add(mapper.apply(item));
        }
        return new ArrayUtils<>(result);
    }

    // reduce: 누적 연산
    public <R> R reduce(R initial, BiFunction<R, T, R> accumulator) {
        R result = initial;
        for (T item : list) {
            result = accumulator.apply(result, item);
        }
        return result;
    }

    // findFirst: 첫 번째 매칭 요소 찾기
    public T findFirst(Predicate<T> predicate) {
        for (T item : list) {
            if (predicate.test(item)) {
                return item;
            }
        }
        return null;
    }

    // toList: 결과를 List로 반환
    public List<T> toList() {
        return new ArrayList<>(list);
    }

    @Override
    public String toString() {
        return list.toString();
    }
}

// 메인 클래스
public class GenericUtilityDemo {
    public static void main(String[] args) {
        // 정수 리스트
        List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);
        ArrayUtils<Integer> utils = new ArrayUtils<>(numbers);

        System.out.println("원본: " + utils);

        // filter: 짝수만
        ArrayUtils<Integer> evens = utils.filter(n -> n % 2 == 0);
        System.out.println("짝수 필터링: " + evens);

        // map: 2배로
        ArrayUtils<Integer> doubled = utils.map(n -> n * 2);
        System.out.println("2배로 변환: " + doubled);

        // reduce: 합계
        Integer sum = utils.reduce(0, (acc, n) -> acc + n);
        System.out.println("합계: " + sum);

        // findFirst: 첫 번째 짝수
        Integer firstEven = utils.findFirst(n -> n % 2 == 0);
        System.out.println("첫 번째 짝수: " + firstEven);

        System.out.println();

        // 문자열 예제
        List<String> words = Arrays.asList("apple", "banana", "cherry");
        ArrayUtils<String> wordUtils = new ArrayUtils<>(words);

        System.out.println("원본: " + wordUtils);

        // map: 대문자로
        ArrayUtils<String> upper = wordUtils.map(s -> s.toUpperCase());
        System.out.println("대문자 변환: " + upper);

        // map: 길이로
        ArrayUtils<Integer> lengths = wordUtils.map(s -> s.length());
        System.out.println("길이 변환: " + lengths);

        // filter + map 체이닝
        List<Integer> result = wordUtils
            .filter(s -> s.length() > 5)  // 길이 5 초과
            .map(s -> s.length())         // 길이로 변환
            .toList();
        System.out.println("길이 5 초과인 단어의 길이: " + result);
    }
}
```

</details>

---

## 실습 5: 캐시 시스템 (최고급)

### 문제 설명

제네릭을 활용하여 LRU(Least Recently Used) 캐시를 구현하세요.

### 요구사항

1. `LRUCache<K, V>` 제네릭 클래스
   - 최대 용량 제한
   - `put()`: 항목 추가 (용량 초과 시 가장 오래된 항목 제거)
   - `get()`: 항목 조회 (조회 시 최신으로 갱신)
   - `size()`: 현재 크기
   - `isFull()`: 가득 찼는지 확인

2. `@CacheStats` 어노테이션
   - 캐시 통계 정보 표시

### 예상 출력

```
=== 캐시에 데이터 추가 ===
추가: key1 -> value1
추가: key2 -> value2
추가: key3 -> value3
현재 크기: 3 / 3 (가득참)

=== 용량 초과로 key1 제거 ===
추가: key4 -> value4
캐시 내용: [key2=value2, key3=value3, key4=value4]

=== key2 조회 (최신으로 갱신) ===
조회: key2 -> value2

=== key5 추가 시 key3 제거됨 ===
추가: key5 -> value5
캐시 내용: [key2=value2, key4=value4, key5=value5]
```

<details>
<summary>답안 보기</summary>

```java
import java.lang.annotation.*;
import java.util.*;

// @CacheStats 어노테이션
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE)
@interface CacheStats {
    int capacity();
    String description() default "";
}

// LRUCache 제네릭 클래스
@CacheStats(capacity = 3, description = "LRU 캐시 구현")
class LRUCache<K, V> {
    private final int capacity;
    private final LinkedHashMap<K, V> cache;

    public LRUCache(int capacity) {
        this.capacity = capacity;
        // LinkedHashMap의 accessOrder를 true로 설정하면
        // get() 호출 시 해당 엔트리가 맨 뒤로 이동
        this.cache = new LinkedHashMap<K, V>(capacity, 0.75f, true) {
            @Override
            protected boolean removeEldestEntry(Map.Entry<K, V> eldest) {
                return size() > LRUCache.this.capacity;
            }
        };
    }

    public V get(K key) {
        V value = cache.get(key);
        if (value != null) {
            System.out.println("조회: " + key + " -> " + value);
        } else {
            System.out.println("조회 실패: " + key);
        }
        return value;
    }

    public void put(K key, V value) {
        if (cache.size() >= capacity && !cache.containsKey(key)) {
            K firstKey = cache.keySet().iterator().next();
            System.out.println("용량 초과로 제거: " + firstKey);
        }
        cache.put(key, value);
        System.out.println("추가: " + key + " -> " + value);
    }

    public int size() {
        return cache.size();
    }

    public boolean isFull() {
        return cache.size() >= capacity;
    }

    public Map<K, V> getCache() {
        return new LinkedHashMap<>(cache);
    }

    public void printStats() {
        System.out.printf("현재 크기: %d / %d (%s)\n",
            size(), capacity, isFull() ? "가득참" : "여유있음");
    }

    public void printCache() {
        System.out.println("캐시 내용: " + cache);
    }
}

// 메인 클래스
public class CacheSystemDemo {
    public static void main(String[] args) {
        // 용량 3인 캐시 생성
        LRUCache<String, String> cache = new LRUCache<>(3);

        // 어노테이션 정보 출력
        CacheStats stats = cache.getClass().getAnnotation(CacheStats.class);
        if (stats != null) {
            System.out.printf("캐시 정보: %s (용량: %d)\n",
                stats.description(), stats.capacity());
        }
        System.out.println();

        // 데이터 추가
        System.out.println("=== 캐시에 데이터 추가 ===");
        cache.put("key1", "value1");
        cache.put("key2", "value2");
        cache.put("key3", "value3");
        cache.printStats();
        System.out.println();

        // 용량 초과
        System.out.println("=== 용량 초과로 key1 제거 ===");
        cache.put("key4", "value4");
        cache.printCache();
        System.out.println();

        // key2 조회 (최신으로 갱신)
        System.out.println("=== key2 조회 (최신으로 갱신) ===");
        cache.get("key2");
        System.out.println();

        // key5 추가 시 key3 제거됨 (key2는 조회로 갱신되어 유지)
        System.out.println("=== key5 추가 시 key3 제거됨 ===");
        cache.put("key5", "value5");
        cache.printCache();
        System.out.println();

        // 존재하지 않는 키 조회
        System.out.println("=== 존재하지 않는 키 조회 ===");
        cache.get("key1");
        System.out.println();

        // 정수형 캐시 예제
        System.out.println("=== 정수형 캐시 ===");
        LRUCache<Integer, String> intCache = new LRUCache<>(2);
        intCache.put(1, "One");
        intCache.put(2, "Two");
        intCache.get(1);        // 1을 최신으로
        intCache.put(3, "Three"); // 2가 제거됨
        intCache.printCache();
    }
}
```

</details>

---

## 종합 챌린지: 이벤트 관리 시스템

### 문제 설명

지금까지 배운 모든 내용을 활용하여 완전한 이벤트 관리 시스템을 구현하세요.

### 요구사항

1. `EventType` Enum
2. `@Required` 어노테이션
3. `Event<T>` 제네릭 클래스
4. `EventManager` 클래스
5. 제네릭 메서드를 활용한 필터링 및 정렬

이 챌린지는 스스로 설계하고 구현해보세요!

---

## 정리

### 학습한 내용

1. **제네릭**: 타입 안정성과 재사용성
2. **컬렉션**: List, Set, Map의 실전 활용
3. **Enum**: 상수 관리와 상태 패턴
4. **어노테이션**: 메타데이터와 검증

### JavaScript와의 비교

| 개념 | JavaScript | Java |
|------|-----------|------|
| 제네릭 | TypeScript만 | 완전 지원 |
| 컬렉션 | Array, Set, Map | List, Set, Map (인터페이스) |
| Enum | 객체로 흉내 | 완전한 클래스 |
| 어노테이션 | 데코레이터 (실험적) | 표준 기능 |

### 다음 단계

이제 **Modern Java (함수형 프로그래밍)**을 학습할 준비가 되었습니다!
- 람다 표현식
- 스트림 API
- 함수형 인터페이스

---

**다음 챕터:** [8장. Modern Java (함수형 프로그래밍)](../08_Modern_Java/8.1_함수형_인터페이스와_람다_표현식.md)
