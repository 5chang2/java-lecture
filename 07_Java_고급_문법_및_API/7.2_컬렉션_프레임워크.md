# 7.2. 컬렉션 프레임워크 (List, Set, Map)

> 데이터를 효율적으로 관리하고 처리하기 위한 컬렉션 프레임워크를 학습합니다.

## 학습 목표
- 컬렉션 프레임워크의 개념과 계층 구조 이해
- List, Set, Map의 특징과 사용법 학습
- 각 자료구조의 선택 기준 파악
- JavaScript 배열/객체와 비교하여 이해

---

## 1. 컬렉션 프레임워크란?

### 개념

**컬렉션 프레임워크(Collection Framework)**는 **데이터를 효율적으로 관리하고 처리하기 위한 클래스와 인터페이스의 집합**입니다.

**특징:**
- 표준화된 방법으로 데이터 관리
- 다양한 자료구조 제공
- 제네릭을 통한 타입 안정성

### 계층 구조

```
Collection(I)
├── List(I)
│   ├── ArrayList(C)
│   ├── LinkedList(C)
│   └── Vector(C)
├── Set(I)
│   ├── HashSet(C)
│   ├── LinkedHashSet(C)
│   └── TreeSet(C)
└── Queue(I)
    ├── PriorityQueue(C)
    └── Deque(I)

Map(I) - 별도 계층
├── HashMap(C)
├── LinkedHashMap(C)
├── TreeMap(C)
└── Hashtable(C)
```

**주요 3가지:**

| 인터페이스 | 특징 | 구현 클래스 |
|----------|------|-----------|
| **List** | 순서 O, 중복 O | ArrayList, LinkedList |
| **Set** | 순서 X, 중복 X | HashSet, TreeSet |
| **Map** | Key-Value, 키 중복 X | HashMap, TreeMap |

### JavaScript와의 비교

| Java | JavaScript | 비고 |
|------|------------|------|
| `List` | `Array` | 순서 있는 컬렉션 |
| `Set` | `Set` | 중복 없는 컬렉션 |
| `Map` | `Map` / `Object` | Key-Value 저장 |

---

## 2. List 인터페이스

### 개념

**List**는 **순서가 있고 중복을 허용**하는 자료구조입니다.

**특징:**
- 인덱스로 접근 가능
- 중복 데이터 저장 가능
- 삽입 순서 유지

### ArrayList

**내부 구조:** 배열 기반

```java
import java.util.ArrayList;
import java.util.List;

public class Main {
    public static void main(String[] args) {
        // List 타입으로 선언 (다형성)
        List<String> list = new ArrayList<>();

        // 요소 추가
        list.add("Apple");
        list.add("Banana");
        list.add("Cherry");
        list.add("Apple");  // 중복 허용

        System.out.println(list);  // [Apple, Banana, Cherry, Apple]
        System.out.println("크기: " + list.size());  // 4
    }
}
```

### 주요 메서드

#### 추가/삽입

```java
List<String> list = new ArrayList<>();

list.add("A");           // 끝에 추가
list.add("B");
list.add(1, "C");        // 인덱스 1에 삽입

System.out.println(list);  // [A, C, B]
```

#### 조회/접근

```java
List<String> list = new ArrayList<>();
list.add("Apple");
list.add("Banana");
list.add("Cherry");

// 인덱스로 접근
String fruit = list.get(0);  // "Apple"
System.out.println(fruit);

// 전체 순회 - for-each
for (String item : list) {
    System.out.println(item);
}

// 전체 순회 - 인덱스
for (int i = 0; i < list.size(); i++) {
    System.out.println(list.get(i));
}
```

#### 수정/삭제

```java
List<String> list = new ArrayList<>();
list.add("Apple");
list.add("Banana");
list.add("Cherry");

// 수정
list.set(1, "Blueberry");  // 인덱스 1을 Blueberry로 변경
System.out.println(list);  // [Apple, Blueberry, Cherry]

// 삭제
list.remove(0);            // 인덱스 0 삭제
System.out.println(list);  // [Blueberry, Cherry]

list.remove("Cherry");     // 값으로 삭제
System.out.println(list);  // [Blueberry]

// 전체 삭제
list.clear();
System.out.println(list);  // []
```

#### 검색/확인

```java
List<String> list = new ArrayList<>();
list.add("Apple");
list.add("Banana");

// 포함 여부
boolean hasApple = list.contains("Apple");  // true
System.out.println(hasApple);

// 인덱스 찾기
int index = list.indexOf("Banana");  // 1
System.out.println(index);

// 비어있는지 확인
boolean empty = list.isEmpty();  // false
System.out.println(empty);
```

### JavaScript 배열과 비교

```javascript
// JavaScript Array
const list = [];
list.push("Apple");           // 추가
list.push("Banana");
console.log(list[0]);         // 접근
list[0] = "Blueberry";        // 수정
list.splice(0, 1);            // 삭제
console.log(list.includes("Apple"));  // 검색
```

**차이점:**
- Java: 타입 안정성 (제네릭)
- JavaScript: 동적 타입
- Java: size() 메서드, JavaScript: length 속성

---

## 3. Set 인터페이스

### 개념

**Set**은 **중복을 허용하지 않고 순서가 없는** 자료구조입니다.

**특징:**
- 중복 불가
- 순서 보장 안 됨 (HashSet)
- 인덱스 없음

### HashSet

**내부 구조:** 해시 테이블 기반

```java
import java.util.HashSet;
import java.util.Set;

public class Main {
    public static void main(String[] args) {
        Set<String> set = new HashSet<>();

        // 요소 추가
        set.add("Apple");
        set.add("Banana");
        set.add("Cherry");
        set.add("Apple");  // 중복 - 무시됨

        System.out.println(set);  // [Apple, Banana, Cherry] (순서 무관)
        System.out.println("크기: " + set.size());  // 3
    }
}
```

### 주요 메서드

#### 추가/삭제

```java
Set<Integer> set = new HashSet<>();

// 추가
set.add(1);
set.add(2);
set.add(3);
set.add(1);  // 중복 무시

System.out.println(set);  // [1, 2, 3]

// 삭제
set.remove(2);
System.out.println(set);  // [1, 3]
```

#### 검색/순회

```java
Set<String> set = new HashSet<>();
set.add("A");
set.add("B");
set.add("C");

// 포함 여부
boolean hasA = set.contains("A");  // true

// 순회 (순서 보장 안 됨)
for (String item : set) {
    System.out.println(item);
}
```

### 중복 제거 활용

```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        // List에 중복 데이터
        List<Integer> list = Arrays.asList(1, 2, 2, 3, 3, 3, 4);

        // Set으로 중복 제거
        Set<Integer> set = new HashSet<>(list);

        System.out.println("원본: " + list);  // [1, 2, 2, 3, 3, 3, 4]
        System.out.println("중복 제거: " + set);  // [1, 2, 3, 4]
    }
}
```

### JavaScript Set과 비교

```javascript
// JavaScript Set
const set = new Set();
set.add("Apple");
set.add("Banana");
set.add("Apple");  // 중복 무시

console.log(set.size);  // 2
console.log(set.has("Apple"));  // true

// 배열 중복 제거
const arr = [1, 2, 2, 3];
const unique = [...new Set(arr)];  // [1, 2, 3]
```

---

## 4. Map 인터페이스

### 개념

**Map**은 **Key-Value 쌍**으로 데이터를 저장하는 자료구조입니다.

**특징:**
- Key는 중복 불가
- Value는 중복 가능
- Key로 빠른 검색

### HashMap

**내부 구조:** 해시 테이블 기반

```java
import java.util.HashMap;
import java.util.Map;

public class Main {
    public static void main(String[] args) {
        // Key: String, Value: Integer
        Map<String, Integer> map = new HashMap<>();

        // 요소 추가
        map.put("Alice", 25);
        map.put("Bob", 30);
        map.put("Charlie", 35);

        System.out.println(map);  // {Alice=25, Bob=30, Charlie=35}
    }
}
```

### 주요 메서드

#### 추가/수정

```java
Map<String, Integer> map = new HashMap<>();

// 추가
map.put("Alice", 25);
map.put("Bob", 30);

// 수정 (같은 Key에 put)
map.put("Alice", 26);

System.out.println(map);  // {Alice=26, Bob=30}
```

#### 조회

```java
Map<String, Integer> map = new HashMap<>();
map.put("Alice", 25);
map.put("Bob", 30);

// 값 가져오기
Integer age = map.get("Alice");  // 25
System.out.println(age);

// 없는 Key는 null 반환
Integer unknown = map.get("Charlie");  // null
System.out.println(unknown);

// 기본값 지정
Integer defaultAge = map.getOrDefault("Charlie", 0);  // 0
System.out.println(defaultAge);
```

#### 삭제

```java
Map<String, Integer> map = new HashMap<>();
map.put("Alice", 25);
map.put("Bob", 30);

// 삭제
map.remove("Alice");
System.out.println(map);  // {Bob=30}
```

#### 검색/확인

```java
Map<String, Integer> map = new HashMap<>();
map.put("Alice", 25);
map.put("Bob", 30);

// Key 존재 여부
boolean hasAlice = map.containsKey("Alice");  // true

// Value 존재 여부
boolean has25 = map.containsValue(25);  // true

// 크기
int size = map.size();  // 2

// 비어있는지
boolean empty = map.isEmpty();  // false
```

### Map 순회

#### keySet() 사용

```java
Map<String, Integer> map = new HashMap<>();
map.put("Alice", 25);
map.put("Bob", 30);
map.put("Charlie", 35);

// Key로 순회
for (String key : map.keySet()) {
    Integer value = map.get(key);
    System.out.println(key + ": " + value);
}
```

#### entrySet() 사용 (권장)

```java
Map<String, Integer> map = new HashMap<>();
map.put("Alice", 25);
map.put("Bob", 30);

// Entry로 순회 (더 효율적)
for (Map.Entry<String, Integer> entry : map.entrySet()) {
    System.out.println(entry.getKey() + ": " + entry.getValue());
}
```

### JavaScript 객체/Map과 비교

```javascript
// JavaScript Object
const obj = {
    "Alice": 25,
    "Bob": 30
};
console.log(obj["Alice"]);  // 25
console.log(obj.Alice);     // 25

// JavaScript Map
const map = new Map();
map.set("Alice", 25);
map.set("Bob", 30);
console.log(map.get("Alice"));  // 25

// 순회
for (const [key, value] of map) {
    console.log(`${key}: ${value}`);
}
```

---

## 5. 컬렉션 선택 가이드

### 언제 무엇을 사용할까?

| 요구사항 | 선택 |
|---------|------|
| 순서 유지 + 중복 허용 | **List** (ArrayList) |
| 빠른 검색/삽입/삭제 | **List** (LinkedList) |
| 중복 제거 필요 | **Set** (HashSet) |
| 정렬된 순서 필요 | **Set** (TreeSet) |
| Key-Value 저장 | **Map** (HashMap) |
| 정렬된 Key-Value | **Map** (TreeMap) |

### 실무 팁

```java
// ✅ 인터페이스 타입으로 선언 (다형성)
List<String> list = new ArrayList<>();  // 좋음
// ArrayList<String> list = new ArrayList<>();  // 나쁨

Map<String, Integer> map = new HashMap<>();  // 좋음
// HashMap<String, Integer> map = new HashMap<>();  // 나쁨
```

**이유:** 구현체 변경 시 유연함

---

## 6. 실습 문제

### 문제 1: 학생 성적 관리

**요구사항:**

Map을 사용하여 학생 이름과 점수를 저장하고 관리하세요.

```java
public class Main {
    public static void main(String[] args) {
        Map<String, Integer> scores = new HashMap<>();

        // 성적 입력
        scores.put("Alice", 85);
        scores.put("Bob", 92);
        scores.put("Charlie", 78);

        // 1. 전체 학생 출력
        // 2. Bob의 점수 출력
        // 3. 평균 점수 계산
        // 4. 80점 이상인 학생만 출력
    }
}
```

### 문제 2: 중복 단어 제거

문장에서 중복된 단어를 제거하세요.

```java
public class Main {
    public static void main(String[] args) {
        String sentence = "apple banana apple cherry banana apple";

        // 1. 공백으로 단어 분리 (String.split(" "))
        // 2. Set으로 중복 제거
        // 3. 고유한 단어 출력
    }
}
```

### 문제 3: 장바구니 시스템

**요구사항:**

- `Cart` 클래스: 상품 이름과 수량을 Map으로 관리
- `addItem(String item, int quantity)`: 상품 추가 (있으면 수량 증가)
- `removeItem(String item)`: 상품 제거
- `printCart()`: 장바구니 내용 출력

```java
public class Main {
    public static void main(String[] args) {
        Cart cart = new Cart();

        cart.addItem("Apple", 3);
        cart.addItem("Banana", 2);
        cart.addItem("Apple", 2);  // 수량 증가

        cart.printCart();
        // 예상 출력:
        // Apple: 5개
        // Banana: 2개
    }
}
```

### 문제 4: 전화번호부

**요구사항:**

Map을 사용하여 전화번호부를 구현하세요.

- 이름을 Key, 전화번호를 Value로 저장
- 추가, 검색, 삭제, 전체 출력 기능

```java
public class PhoneBook {
    private Map<String, String> contacts;

    public PhoneBook() {
        contacts = new HashMap<>();
    }

    public void addContact(String name, String number) {
        // 구현
    }

    public String getNumber(String name) {
        // 구현
        return null;
    }

    public void printAll() {
        // 구현
    }
}
```

---

## 요약

### 컬렉션 프레임워크 핵심

| 컬렉션 | 순서 | 중복 | 인덱스 | 주요 구현 |
|-------|-----|------|-------|---------|
| **List** | ✅ | ✅ | ✅ | ArrayList |
| **Set** | ❌ | ❌ | ❌ | HashSet |
| **Map** | ❌ | Key ❌, Value ✅ | ❌ | HashMap |

### 주요 메서드

**공통:**
- `size()`: 크기
- `isEmpty()`: 비어있는지
- `clear()`: 전체 삭제
- `contains()`: 포함 여부

**List 전용:**
- `get(index)`: 조회
- `set(index, element)`: 수정
- `add(index, element)`: 삽입

**Map 전용:**
- `put(key, value)`: 추가/수정
- `get(key)`: 조회
- `keySet()`: Key 집합
- `entrySet()`: Entry 집합

### Java vs JavaScript

| Java | JavaScript | 비고 |
|------|------------|------|
| `ArrayList` | `Array` | push, pop, shift 등 |
| `HashSet` | `Set` | add, has, delete |
| `HashMap` | `Map` / `Object` | set, get, forEach |

**다음 학습:**
- 7.3장에서 Enum(열거형) 학습
- 7.5장 실습에서 컬렉션 활용 종합
