# 4.2. 필드, 메서드, 생성자

> 클래스의 구성 요소인 필드, 메서드, 생성자를 이해하고 활용할 수 있다.

## 클래스의 멤버 (Members)

클래스는 다음 세 가지 **멤버(구성 요소)**로 이루어집니다:

1. **필드(Field)**: 객체의 속성/상태를 저장하는 변수
2. **생성자(Constructor)**: 객체를 생성하고 초기화하는 특수한 메서드
3. **메서드(Method)**: 객체의 동작/기능을 정의하는 함수

```java
public class Rectangle {
    // 1. 필드 (속성)
    public int width;
    public int height;

    // 2. 생성자 (객체 생성 및 초기화)
    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }

    // 3. 메서드 (기능)
    public int calculateArea() {
        return this.width * this.height;
    }
}
```

**JavaScript 비교**:
```javascript
class Rectangle {
    // 생성자
    constructor(width, height) {
        this.width = width;      // 필드
        this.height = height;    // 필드
    }

    // 메서드
    calculateArea() {
        return this.width * this.height;
    }
}
```

---

## 필드 (Field)

### 필드란?

**필드(Field)**는 클래스에 선언된 변수로, 객체의 **속성이나 상태**를 나타냅니다.

- **멤버 변수**라고도 부름
- 객체마다 고유한 값을 가질 수 있음
- 클래스 내 어디서든 접근 가능

### 필드 종류

Java의 필드는 두 가지 종류가 있습니다:

1. **인스턴스 변수 (Instance Variable)**: 각 객체마다 독립적인 값을 가짐
2. **클래스 변수 (Class Variable)**: `static` 키워드 사용, 모든 객체가 공유

```java
public class Car {
    // 인스턴스 변수 - 각 자동차마다 다른 값
    public String model;
    public int speed;

    // 클래스 변수 - 모든 자동차가 공유
    public static int count = 0;

    public Car(String model) {
        this.model = model;
        this.speed = 0;
        count++;  // 자동차 생성될 때마다 증가
    }
}
```

### 필드 초기화

필드는 명시적으로 초기화하지 않으면 기본값으로 자동 초기화됩니다:

| 타입 | 기본값 |
|:---|:---|
| `int`, `long`, `short`, `byte` | `0` |
| `float`, `double` | `0.0` |
| `boolean` | `false` |
| `char` | `'\u0000'` (null 문자) |
| 참조형 (String 등) | `null` |

```java
public class Person {
    public String name;    // null로 초기화
    public int age;        // 0으로 초기화
    public boolean isAdult;  // false로 초기화

    public void printInfo() {
        System.out.println("이름: " + name);  // null
        System.out.println("나이: " + age);   // 0
        System.out.println("성인: " + isAdult);  // false
    }
}
```

**JavaScript 비교**: JavaScript는 명시적으로 초기화하지 않으면 `undefined`입니다.

---

## 메서드 (Method)

### 메서드란?

**메서드(Method)**는 클래스 내부에 정의된 함수로, 객체의 **동작이나 기능**을 나타냅니다.

### 메서드 선언 문법

```java
public 반환타입 메서드명(매개변수타입 매개변수명) {
    // 메서드 본문
    return 반환값;  // void가 아닌 경우
}
```

**명명 규칙**:
- **카멜 케이스(Camel Case)** 사용
- **동사**로 시작 권장 (get, set, calculate, print 등)
- 의미 있는 이름 사용

### 매개변수와 반환값

#### 매개변수 (Parameters)
메서드에 전달되는 값을 받는 변수

```java
public int add(int number1, int number2) {  // number1, number2: 매개변수
    return number1 + number2;
}
```

#### 인자 (Arguments)
메서드를 호출할 때 실제로 전달하는 값

```java
int result = add(10, 20);  // 10, 20: 인자
```

#### 반환값 (Return Value)
메서드 실행 결과를 호출한 곳으로 돌려주는 값

```java
public int getBigger(int number1, int number2) {
    if (number1 > number2) {
        return number1;  // 반환값
    } else {
        return number2;  // 반환값
    }
}
```

**JavaScript 비교**:
```javascript
function add(number1, number2) {  // 매개변수
    return number1 + number2;
}

let result = add(10, 20);  // 인자
```

### 메서드의 다양한 형태

#### 1. 매개변수 O, 반환값 O (가장 기본적인 형태)

```java
public int add(int x, int y) {
    return x + y;
}

// 사용
int result = add(1, 2);
System.out.println(result);  // 3
```

#### 2. 매개변수 O, 반환값 X (void)

```java
public void hello(String name) {
    System.out.println("Hello! " + name);
}

// 사용
hello("kyle");  // Hello! kyle
hello("alex");  // Hello! alex
```

#### 3. 매개변수 X, 반환값 O

```java
public int[] getEvenNumbersUnderTen() {
    int[] evenNumbers = {2, 4, 6, 8};
    return evenNumbers;
}

// 사용
int[] numbers = getEvenNumbersUnderTen();
```

#### 4. 매개변수 X, 반환값 X

```java
public void welcome() {
    System.out.println("Welcome to Java world!");
}

// 사용
welcome();  // Welcome to Java world!
```

### 메서드 오버로딩 (Overloading)

**메서드 오버로딩**은 같은 이름의 메서드를 **매개변수의 타입이나 개수를 다르게** 하여 여러 개 선언하는 것입니다.

```java
public class Calculator {
    // int형 덧셈
    public int add(int a, int b) {
        return a + b;
    }

    // long형 덧셈
    public long add(long a, long b) {
        return a + b;
    }

    // double형 덧셈
    public double add(double a, double b) {
        return a + b;
    }

    // 세 개의 int 덧셈
    public int add(int a, int b, int c) {
        return a + b + c;
    }
}
```

**사용:**
```java
Calculator calc = new Calculator();
System.out.println(calc.add(1, 2));        // 3
System.out.println(calc.add(1L, 2L));      // 3
System.out.println(calc.add(1.5, 2.5));    // 4.0
System.out.println(calc.add(1, 2, 3));     // 6
```

**주의사항:**
- 반환 타입만 다른 것은 오버로딩이 아님
- 메서드 시그니처(이름 + 매개변수)가 달라야 함

**JavaScript 비교**: JavaScript는 메서드 오버로딩을 지원하지 않습니다. 마지막에 선언된 함수가 이전 함수를 덮어씁니다.

### 가변인자 (Variable Arguments)

매개변수 개수를 동적으로 받을 수 있는 기능입니다.

```java
public int add(int... numbers) {  // 가변인자
    int result = 0;
    for (int number : numbers) {
        result += number;
    }
    return result;
}

// 사용
System.out.println(add(1, 2));           // 3
System.out.println(add(1, 2, 3));        // 6
System.out.println(add(1, 2, 3, 4, 5));  // 15
```

**가변인자 규칙:**
- `타입... 변수명` 형식으로 선언
- 메서드에 하나만 사용 가능
- 매개변수 목록의 마지막에 위치해야 함

**JavaScript 비교**:
```javascript
// JavaScript는 rest 파라미터 사용
function add(...numbers) {
    return numbers.reduce((sum, num) => sum + num, 0);
}
```

---

## 생성자 (Constructor)

### 생성자란?

**생성자(Constructor)**는 객체가 생성될 때 자동으로 호출되는 특수한 메서드입니다. 주로 **필드 초기화**에 사용됩니다.

### 생성자의 특징

1. 이름이 **클래스명과 동일**해야 함
2. **반환 타입이 없음** (void도 쓰지 않음)
3. `new` 키워드로 객체 생성 시 자동 호출
4. 여러 개 선언 가능 (오버로딩)

### 기본 생성자 (Default Constructor)

매개변수가 없는 생성자입니다.

```java
public class Rectangle {
    public int width;
    public int height;

    // 기본 생성자
    public Rectangle() {
        this.width = 5;
        this.height = 5;
    }
}

// 사용
Rectangle rect = new Rectangle();
System.out.println(rect.width);   // 5
System.out.println(rect.height);  // 5
```

**생성자를 명시하지 않으면**: Java 컴파일러가 자동으로 빈 기본 생성자를 만들어줍니다.

```java
public class Rectangle {
    public int width;
    public int height;
    // 기본 생성자가 자동 생성됨: public Rectangle() {}
}
```

### 매개변수가 있는 생성자

```java
public class Rectangle {
    public int width;
    public int height;

    // 매개변수가 있는 생성자
    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }
}

// 사용
Rectangle rect = new Rectangle(10, 5);
System.out.println(rect.width);   // 10
System.out.println(rect.height);  // 5
```

**주의**: 매개변수가 있는 생성자를 선언하면, 기본 생성자는 자동 생성되지 않습니다!

```java
Rectangle rect1 = new Rectangle(10, 5);  // 정상
// Rectangle rect2 = new Rectangle();     // 에러! 기본 생성자 없음
```

### 생성자 오버로딩

여러 방법으로 객체를 생성할 수 있도록 여러 생성자를 제공할 수 있습니다.

```java
public class Rectangle {
    public int width;
    public int height;

    // 기본 생성자
    public Rectangle() {
        this.width = 5;
        this.height = 5;
    }

    // 매개변수 1개
    public Rectangle(int size) {
        this.width = size;
        this.height = size;
    }

    // 매개변수 2개
    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }
}

// 다양한 방법으로 객체 생성
Rectangle rect1 = new Rectangle();        // 5x5
Rectangle rect2 = new Rectangle(10);      // 10x10
Rectangle rect3 = new Rectangle(10, 5);   // 10x5
```

### `this` 키워드

`this`는 현재 객체 자신을 가리키는 참조 변수입니다.

#### 용도 1: 필드와 매개변수 구분

```java
public class Person {
    public String name;
    public int age;

    public Person(String name, int age) {
        this.name = name;  // this.name은 필드, name은 매개변수
        this.age = age;
    }
}
```

#### 용도 2: 다른 생성자 호출 - `this()`

```java
public class Rectangle {
    public int width;
    public int height;

    // 기본 생성자
    public Rectangle() {
        this(5, 5);  // 다른 생성자 호출
    }

    // 매개변수 1개
    public Rectangle(int size) {
        this(size, size);  // 다른 생성자 호출
    }

    // 매개변수 2개
    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }
}
```

**`this()` 규칙:**
- 생성자 내에서만 사용 가능
- **반드시 첫 줄에 위치**해야 함

**JavaScript 비교**:
```javascript
class Rectangle {
    constructor(width, height) {
        this.width = width;   // this 사용법은 비슷
        this.height = height;
    }
}
```

---

## 인스턴스 메서드 vs 클래스 메서드 (static)

### 인스턴스 메서드

객체를 생성해야만 호출할 수 있는 메서드입니다.

```java
public class Rectangle {
    public int width;
    public int height;

    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }

    // 인스턴스 메서드
    public int calculateArea() {
        return this.width * this.height;
    }
}

// 사용
Rectangle rect = new Rectangle(10, 5);
int area = rect.calculateArea();  // 인스턴스를 통해 호출
```

### 클래스 메서드 (static)

`static` 키워드가 붙은 메서드로, 객체 생성 없이 **클래스명으로 직접 호출** 가능합니다.

```java
public class MathUtil {
    // 클래스 메서드
    public static int add(int a, int b) {
        return a + b;
    }

    public static int multiply(int a, int b) {
        return a * b;
    }
}

// 사용
int sum = MathUtil.add(10, 20);         // 클래스명으로 호출
int product = MathUtil.multiply(5, 3);  // 객체 생성 불필요
```

**주의**: `static` 메서드 내에서는 인스턴스 변수나 인스턴스 메서드를 사용할 수 없습니다!

```java
public class Car {
    public int speed;  // 인스턴스 변수

    public static void printSpeed() {
        // System.out.println(speed);  // 에러! static에서 인스턴스 변수 사용 불가
        System.out.println("Speed cannot be accessed here");
    }
}
```

---

## 실습 문제

### 문제 1: Calculator 클래스
사칙연산을 수행하는 Calculator 클래스를 구현하세요.

**요구사항:**
- 두 정수를 생성자로 받아 필드에 저장
- `add()`, `subtract()`, `multiply()`, `divide()` 메서드 구현

```java
Calculator calc = new Calculator(10, 2);
System.out.println(calc.add());       // 12
System.out.println(calc.subtract());  // 8
System.out.println(calc.multiply());  // 20
System.out.println(calc.divide());    // 5
```

### 문제 2: BankAccount 클래스
은행 계좌를 표현하는 BankAccount 클래스를 구현하세요.

**요구사항:**
- 필드: `accountNumber`(계좌번호), `balance`(잔액)
- 생성자: 계좌번호와 초기 잔액 설정
- 메서드:
  - `deposit(int amount)`: 입금
  - `withdraw(int amount)`: 출금
  - `getBalance()`: 잔액 조회

```java
BankAccount account = new BankAccount("1234-5678", 10000);
account.deposit(5000);   // 입금: 5000원
account.withdraw(3000);  // 출금: 3000원
System.out.println(account.getBalance());  // 12000
```

---

## 요약

- **필드**: 객체의 속성/상태를 저장하는 변수
- **메서드**: 객체의 동작/기능을 정의
  - 메서드 오버로딩: 같은 이름, 다른 매개변수
  - 가변인자: `타입... 변수명`
- **생성자**: 객체 생성 시 초기화
  - 이름은 클래스명과 동일
  - 반환 타입 없음
  - 오버로딩 가능
- **this**: 현재 객체 자신을 가리킴
  - `this.필드`: 필드 접근
  - `this()`: 다른 생성자 호출
- **static**: 클래스 레벨의 메서드/변수
