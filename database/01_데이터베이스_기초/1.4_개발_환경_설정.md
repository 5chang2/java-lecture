# 1.4. 개발 환경 설정

> MySQL을 설치하고, 첫 데이터베이스와 테이블을 생성할 수 있다.

---

## 1. MySQL 소개

### MySQL이란?
**MySQL**은 세계에서 가장 많이 사용되는 오픈소스 관계형 데이터베이스 관리 시스템(RDBMS)입니다.

**특징**
- ✅ 무료 오픈소스 (Community Edition)
- ✅ 빠른 성능
- ✅ 다양한 운영체제 지원 (Windows, macOS, Linux)
- ✅ 풍부한 문서와 커뮤니티
- ✅ 대부분의 웹 호스팅 지원

**사용 사례**
- WordPress, Joomla 등 CMS
- Facebook, Twitter, YouTube 등 대형 서비스
- 중소규모 웹 애플리케이션

---

## 2. MySQL 설치하기

### Windows에서 설치

#### 1단계: MySQL 다운로드
1. MySQL 공식 사이트 접속: https://dev.mysql.com/downloads/mysql/
2. **MySQL Community Server** 다운로드
3. **Windows (x86, 64-bit), MSI Installer** 선택
4. 용량이 큰 installer 다운로드 권장

#### 2단계: 설치 프로그램 실행
1. 다운로드한 `.msi` 파일 실행
2. Setup Type 선택: **Developer Default** 권장
3. Check Requirements: 필요한 경우 **Execute** 클릭하여 추가 설치
4. Installation: **Execute** 클릭하여 설치 시작

#### 3단계: MySQL Server 설정
1. **Type and Networking**
   - Config Type: **Development Computer** 선택
   - Port: 기본값 **3306** 유지
   - ✅ Open Windows Firewall port for network access

2. **Authentication Method**
   - **Use Strong Password Encryption** 선택 (권장)

3. **Accounts and Roles**
   - Root Password 설정: **강력한 비밀번호** 입력
   - ⚠️ **비밀번호를 반드시 기억하세요!**
   - (선택) MySQL User Account 추가 가능

4. **Windows Service**
   - ✅ Configure MySQL Server as a Windows Service
   - ✅ Start the MySQL Server at System Startup
   - Service Name: **MySQL80** (기본값)

5. **Apply Configuration**
   - **Execute** 클릭하여 설정 적용
   - 모든 항목이 체크 표시되면 **Finish**

#### 4단계: 설치 확인
```cmd
# 명령 프롬프트(cmd) 열기
mysql --version

# MySQL 접속 테스트
mysql -u root -p
# 비밀번호 입력 후 접속 성공하면 OK
```

### macOS에서 설치

#### 1단계: MySQL 다운로드
1. https://dev.mysql.com/downloads/mysql/
2. **macOS (x86, 64-bit), DMG Archive** 다운로드

#### 2단계: DMG 파일 실행
1. 다운로드한 `.dmg` 파일 실행
2. `.pkg` 파일 더블클릭하여 설치 진행
3. 설치 과정에서 Root Password 설정
4. ⚠️ **비밀번호를 반드시 기억하세요!**

#### 3단계: 환경 변수 설정
```bash
# 터미널 열기
# .zshrc 또는 .bash_profile 편집
echo 'export PATH="/usr/local/mysql/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc

# 설치 확인
mysql --version
```

### Linux (Ubuntu)에서 설치

```bash
# 패키지 목록 업데이트
sudo apt update

# MySQL Server 설치
sudo apt install mysql-server

# MySQL 보안 설정
sudo mysql_secure_installation

# MySQL 시작
sudo systemctl start mysql

# 자동 시작 설정
sudo systemctl enable mysql

# 설치 확인
mysql --version
```

---

## 3. MySQL Workbench 설치

### MySQL Workbench란?
MySQL을 GUI 환경에서 관리할 수 있는 공식 도구입니다.

**주요 기능**
- SQL 쿼리 작성 및 실행
- 데이터베이스 시각화
- 테이블 디자인
- ERD 생성
- 데이터 Import/Export

### 설치 방법

#### Windows & macOS
1. https://dev.mysql.com/downloads/workbench/
2. 운영체제에 맞는 버전 다운로드
3. 설치 프로그램 실행

#### Linux (Ubuntu)
```bash
sudo apt install mysql-workbench
```

---

## 4. MySQL Workbench 기본 사용법

### 첫 연결 설정

1. **MySQL Workbench 실행**
2. **MySQL Connections** 영역에서 **+** 버튼 클릭
3. **Connection 정보 입력**
   ```
   Connection Name: Local MySQL
   Connection Method: Standard (TCP/IP)
   Hostname: 127.0.0.1 (또는 localhost)
   Port: 3306
   Username: root
   Password: [Store in Keychain/Vault] 클릭 후 비밀번호 입력
   ```
4. **Test Connection** 클릭하여 연결 확인
5. **OK** 클릭하여 저장

### Workbench 화면 구성

```
┌─────────────────────────────────────────┐
│  Navigator        │  Query Editor        │
│  ├ Schemas        │  (SQL 작성 영역)     │
│  ├ Tables         │                      │
│  └ Views          │                      │
├─────────────────────────────────────────┤
│  Output / Result Grid                    │
│  (쿼리 실행 결과)                        │
└─────────────────────────────────────────┘
```

**주요 영역**
- **Navigator**: 데이터베이스, 테이블 목록
- **Query Editor**: SQL 쿼리 작성
- **Result Grid**: 쿼리 실행 결과 표시
- **Output**: 실행 로그 및 메시지

---

## 5. 첫 데이터베이스 생성

### 1. SQL로 데이터베이스 생성

```sql
-- 데이터베이스 생성
CREATE DATABASE my_first_db;

-- 생성된 데이터베이스 확인
SHOW DATABASES;

-- 데이터베이스 선택 (사용)
USE my_first_db;

-- 현재 선택된 데이터베이스 확인
SELECT DATABASE();
```

### 2. Workbench GUI로 생성

1. **Navigator**에서 **Schemas** 우클릭
2. **Create Schema** 선택
3. **Name**: `my_first_db` 입력
4. **Charset/Collation**:
   - Charset: `utf8mb4`
   - Collation: `utf8mb4_unicode_ci`
5. **Apply** 클릭

---

## 6. 첫 테이블 생성

### 예제: 학생 테이블 만들기

```sql
-- students 테이블 생성
CREATE TABLE students (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    age INT,
    major VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 테이블 구조 확인
DESCRIBE students;
-- 또는
DESC students;

-- 생성된 테이블 목록 확인
SHOW TABLES;
```

### 데이터 타입 설명

| 데이터 타입 | 설명 | 예시 |
|-------------|------|------|
| **INT** | 정수 | 1, 100, -50 |
| **VARCHAR(n)** | 가변 길이 문자열 (최대 n자) | 'Hong', '홍길동' |
| **TEXT** | 긴 문자열 | 긴 설명문 |
| **DATE** | 날짜 | '2024-01-20' |
| **DATETIME** | 날짜+시간 | '2024-01-20 14:30:00' |
| **TIMESTAMP** | 타임스탬프 | 현재 시간 자동 기록 |
| **BOOLEAN** | 참/거짓 | TRUE, FALSE |
| **DECIMAL(m,n)** | 고정 소수점 | 19.99 |

### 제약 조건 설명

| 제약 조건 | 설명 |
|-----------|------|
| **PRIMARY KEY** | 기본키 (유일, NOT NULL) |
| **AUTO_INCREMENT** | 자동 증가 (주로 ID에 사용) |
| **NOT NULL** | NULL 값 불허 |
| **UNIQUE** | 중복 값 불허 |
| **DEFAULT** | 기본값 설정 |
| **FOREIGN KEY** | 외래키 (다른 테이블 참조) |

---

## 7. 데이터 삽입 및 조회

### 데이터 삽입 (INSERT)

```sql
-- 단일 데이터 삽입
INSERT INTO students (name, age, major)
VALUES ('홍길동', 20, '컴퓨터공학');

-- 여러 데이터 한 번에 삽입
INSERT INTO students (name, age, major)
VALUES
    ('김영희', 21, '경영학'),
    ('이철수', 22, '수학'),
    ('박민수', 20, '물리학');

-- student_id는 AUTO_INCREMENT이므로 생략 가능
-- created_at도 DEFAULT가 설정되어 있으므로 생략 가능
```

### 데이터 조회 (SELECT)

```sql
-- 전체 데이터 조회
SELECT * FROM students;

-- 특정 열만 조회
SELECT name, major FROM students;

-- 조건부 조회
SELECT * FROM students WHERE age >= 21;

-- 정렬하여 조회
SELECT * FROM students ORDER BY age DESC;

-- 개수 제한
SELECT * FROM students LIMIT 3;
```

---

## 8. SQL 기본 규칙

SQL을 작성할 때 지켜야 할 기본 규칙을 이해합니다.

### 8.1. 세미콜론(;)으로 마무리

모든 SQL 문은 세미콜론으로 끝납니다.

```sql
SELECT * FROM students;
```

### 8.2. 대소문자 구분

**SQL 키워드**: 대소문자 구분 안 함 (관례상 대문자 사용)
```sql
SELECT * FROM students;  -- 권장
select * from students;  -- 동작하지만 비권장
```

**테이블/컬럼명**: DBMS에 따라 다름
- MySQL: 대소문자 구분 안 함 (기본)
- PostgreSQL, Oracle: 대소문자 구분 (기본)

### 8.3. 주석 작성

```sql
-- 한 줄 주석

/*
  여러 줄 주석
  여러 줄에 걸쳐 설명 작성
*/

SELECT
    student_id,    -- 학생 ID
    name           -- 학생명
FROM students;
```

### 8.4. 공백과 들여쓰기

SQL은 여러 공백을 하나의 공백으로 취급합니다. 가독성을 위해 적절히 줄바꿈을 사용하세요.

```sql
-- 비권장: 한 줄에 모두 작성
SELECT student_id, name, age FROM students WHERE age > 20 ORDER BY student_id;

-- 권장: 가독성 있게 작성
SELECT
    student_id,
    name,
    age
FROM students
WHERE age > 20
ORDER BY student_id;
```

---

## 9. SQL 명령어 분류

SQL 명령어는 기능에 따라 4가지로 분류됩니다.

### 9.1. DDL (Data Definition Language, 데이터 정의어)

데이터베이스 구조를 정의하고 변경합니다.

```sql
-- 데이터베이스 생성
CREATE DATABASE db_name;

-- 테이블 생성
CREATE TABLE students (
    student_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL
);

-- 테이블 구조 변경
ALTER TABLE students ADD email VARCHAR(100);

-- 테이블 삭제
DROP TABLE students;

-- 데이터베이스 삭제
DROP DATABASE db_name;
```

### 9.2. DML (Data Manipulation Language, 데이터 조작어)

실제 데이터를 조작합니다. **가장 자주 사용**합니다.

```sql
-- 데이터 조회
SELECT * FROM students;

-- 데이터 추가
INSERT INTO students (name, age) VALUES ('홍길동', 20);

-- 데이터 수정
UPDATE students SET age = 21 WHERE student_id = 1;

-- 데이터 삭제
DELETE FROM students WHERE student_id = 1;
```

### 9.3. DCL (Data Control Language, 데이터 제어어)

접근 권한을 제어합니다.

```sql
-- 권한 부여
GRANT SELECT ON students TO user1;

-- 권한 회수
REVOKE SELECT ON students FROM user1;
```

### 9.4. TCL (Transaction Control Language, 트랜잭션 제어어)

트랜잭션을 제어합니다.

```sql
-- 변경사항 확정
COMMIT;

-- 변경사항 취소
ROLLBACK;
```

---

## 10. 강사 가이드

### 핵심 포인트
1. **사전 준비**: 수업 전날 설치 가이드 공유, 미리 설치 권장
2. **비밀번호 강조**: Root 비밀번호는 반드시 기억하도록 여러 번 강조
3. **실습 중심**: 이론 설명은 최소화, 직접 만들며 배우도록 유도
4. **단축키 알려주기**: Ctrl/Cmd + Enter (쿼리 실행)
5. **SQL 규칙 강조**: 세미콜론, 주석, 들여쓰기 습관화
6. **명령어 분류**: DDL/DML/DCL/TCL 개념을 이해시키고, 실제로는 DML을 가장 많이 사용함을 강조

### 자주 발생하는 문제

**문제 1: MySQL 서비스 시작 안됨**
```
해결: Windows → services.msc에서 MySQL80 시작
     Mac → 시스템 환경설정 > MySQL > Start
```

**Q: Access denied 에러**
A: 비밀번호 확인 또는 재설정 필요

**Q: Workbench 연결 실패**
A: MySQL 서비스 실행 여부, Port 3306 확인

**Q: 한글 깨짐**
A: 데이터베이스 생성 시 `CHARACTER SET utf8mb4` 지정

### 시간 배분
- MySQL 설치: 20분
- Workbench 설치 및 연결: 10분
- 첫 DB/테이블 생성: 10분
- 데이터 삽입/조회 실습: 10분
- SQL 기본 규칙 및 명령어 분류: 10분

---

## 요약

- **MySQL**: 가장 많이 사용되는 오픈소스 RDBMS
- **MySQL Workbench**: GUI 환경에서 MySQL 관리
- **설치 주의사항**:
  - Root 비밀번호 반드시 기억
  - Port 3306 (기본값)
  - 한글 사용 시 utf8mb4 charset 설정
- **SQL 기본 규칙**:
  - 세미콜론(;)으로 마무리
  - SQL 키워드는 대문자 권장
  - 주석: `--` (한 줄), `/* */` (여러 줄)
  - 가독성을 위한 들여쓰기
- **SQL 명령어 분류**:
  - DDL: 구조 정의 (`CREATE`, `ALTER`, `DROP`)
  - DML: 데이터 조작 (`SELECT`, `INSERT`, `UPDATE`, `DELETE`) - 가장 자주 사용
  - DCL: 권한 제어 (`GRANT`, `REVOKE`)
  - TCL: 트랜잭션 제어 (`COMMIT`, `ROLLBACK`)
- **테이블 구성 요소**:
  - 데이터 타입: INT, VARCHAR, DATE, TIMESTAMP 등
  - 제약 조건: PRIMARY KEY, AUTO_INCREMENT, NOT NULL, DEFAULT

**다음 단계**: 데이터베이스 설계(ERD, 정규화)를 학습하고, 이후 SQL 기초 문법을 본격적으로 학습합니다!

### 추가 학습 자료
- MySQL 공식 문서: https://dev.mysql.com/doc/
- SQLBolt (대화형 튜토리얼): https://sqlbolt.com/
- W3Schools SQL: https://www.w3schools.com/sql/
