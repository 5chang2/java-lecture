# 7.7. 프로젝트 마무리 및 발표

## 학습 목표
- 프로젝트를 체계적으로 문서화할 수 있다
- 효과적인 발표 자료를 준비할 수 있다
- 프로젝트를 포트폴리오에 활용할 수 있다
- 향후 개선 방향을 제시할 수 있다

---

## 1. 프로젝트 검증 체크리스트

### 1.1. 데이터베이스 설계 검증

```sql
-- ✅ 모든 테이블이 생성되었는가?
SHOW TABLES;
-- 예상: 9개 테이블 (Users, Addresses, Categories, Products, Carts, Orders, Order_Items, Payments, Reviews)

-- ✅ 외래 키 제약조건이 올바르게 설정되었는가?
SELECT
    TABLE_NAME,
    CONSTRAINT_NAME,
    REFERENCED_TABLE_NAME
FROM information_schema.KEY_COLUMN_USAGE
WHERE TABLE_SCHEMA = 'eshop'
  AND REFERENCED_TABLE_NAME IS NOT NULL;

-- ✅ 인덱스가 적절히 생성되었는가?
SELECT
    TABLE_NAME,
    INDEX_NAME,
    GROUP_CONCAT(COLUMN_NAME ORDER BY SEQ_IN_INDEX) AS COLUMNS
FROM information_schema.STATISTICS
WHERE TABLE_SCHEMA = 'eshop'
GROUP BY TABLE_NAME, INDEX_NAME
ORDER BY TABLE_NAME;
```

### 1.2. 데이터 무결성 검증

```sql
-- ✅ 주문 금액이 주문 상세 합계와 일치하는가?
SELECT
    o.order_id,
    o.total_amount AS 주문금액,
    SUM(oi.quantity * oi.price) AS 상세합계,
    o.total_amount - SUM(oi.quantity * oi.price) AS 차이
FROM Orders o
JOIN Order_Items oi ON o.order_id = oi.order_id
GROUP BY o.order_id, o.total_amount
HAVING 차이 != 0;
-- 결과가 없어야 정상

-- ✅ 결제 금액이 주문 금액과 일치하는가?
SELECT
    o.order_id,
    o.total_amount AS 주문금액,
    p.amount AS 결제금액,
    o.total_amount - p.amount AS 차이
FROM Orders o
JOIN Payments p ON o.order_id = p.order_id
WHERE o.total_amount != p.amount;
-- 결과가 없어야 정상

-- ✅ 재고가 음수인 상품이 없는가?
SELECT product_id, name, stock
FROM Products
WHERE stock < 0;
-- 결과가 없어야 정상
```

### 1.3. 기능 테스트

**시나리오 1: 회원 가입 → 주문 → 결제**
```sql
-- 1. 회원 가입
INSERT INTO Users (email, password, name, phone)
VALUES ('test@example.com', SHA2('test123', 256), '테스트', '010-0000-0000');

SET @user_id = LAST_INSERT_ID();

-- 2. 배송지 추가
INSERT INTO Addresses (user_id, recipient_name, phone, address, zipcode, is_default)
VALUES (@user_id, '테스트', '010-0000-0000', '서울시 테스트구', '12345', TRUE);

SET @address_id = LAST_INSERT_ID();

-- 3. 주문 생성
START TRANSACTION;

INSERT INTO Orders (user_id, address_id, total_amount, status)
VALUES (@user_id, @address_id, 100000, 'pending');

SET @order_id = LAST_INSERT_ID();

INSERT INTO Order_Items (order_id, product_id, quantity, price)
VALUES (@order_id, 1, 1, 100000);

-- 4. 결제
INSERT INTO Payments (order_id, method, amount, status, paid_at)
VALUES (@order_id, 'card', 100000, 'completed', NOW());

UPDATE Orders SET status = 'paid' WHERE order_id = @order_id;

COMMIT;

-- 검증
SELECT * FROM Orders WHERE order_id = @order_id;
SELECT * FROM Payments WHERE order_id = @order_id;
```

---

## 2. 프로젝트 문서화

### 2.1. README.md 작성

```markdown
# E-Shop: 온라인 쇼핑몰 데이터베이스

## 프로젝트 개요
- **주제**: 온라인 쇼핑몰 데이터베이스 설계 및 구현
- **기간**: 2주
- **기술 스택**: MySQL 8.0, JDBC (Java 17)

## ERD
![ERD](./images/erd.png)

## 주요 기능
1. **회원 관리**: 회원 가입, 로그인, 배송지 관리
2. **상품 관리**: 카테고리별 분류, 재고 관리
3. **주문 처리**: 장바구니, 주문 생성, 주문 상태 추적
4. **결제**: 다양한 결제 수단, 결제 내역 관리
5. **리뷰**: 상품 리뷰 및 평점

## 데이터베이스 구조
- **테이블**: 9개 (Users, Addresses, Categories, Products, Carts, Orders, Order_Items, Payments, Reviews)
- **정규화**: 3NF 적용
- **인덱스**: 주요 조회 컬럼에 인덱스 생성

## 설치 및 실행

### 1. 데이터베이스 생성
```bash
mysql -u root -p < sql/schema.sql
```

### 2. 샘플 데이터 삽입
```bash
mysql -u root -p eshop < sql/sample_data.sql
```

### 3. Java 애플리케이션 실행
```bash
mvn clean package
java -jar target/eshop.jar
```

## 주요 쿼리

### 일별 매출 조회
```sql
SELECT
    DATE(ordered_at) AS 주문일,
    COUNT(order_id) AS 주문수,
    SUM(total_amount) AS 총매출
FROM Orders
WHERE status != 'cancelled'
GROUP BY DATE(ordered_at);
```

### 인기 상품 Top 10
```sql
SELECT
    p.name AS 상품명,
    COUNT(oi.order_item_id) AS 판매횟수,
    SUM(oi.quantity * oi.price) AS 총매출
FROM Products p
JOIN Order_Items oi ON p.product_id = oi.product_id
GROUP BY p.product_id, p.name
ORDER BY 총매출 DESC
LIMIT 10;
```

## 성능 최적화
- **인덱스**: 주요 FK 및 조회 컬럼에 인덱스 생성
- **쿼리 최적화**: EXPLAIN 분석 후 개선
- **Connection Pool**: HikariCP 사용

## 향후 개선 사항
- [ ] 쿠폰 시스템 추가
- [ ] 포인트 적립 기능
- [ ] 배송 추적 시스템
- [ ] 상품 옵션 (색상, 사이즈)
- [ ] Redis 캐싱 적용

## 팀원
- 홍길동: 데이터베이스 설계, ERD 작성
- 김철수: SQL 쿼리 작성, 최적화
- 이영희: Java 애플리케이션 개발

## 라이선스
MIT License
```

### 2.2. SQL 스크립트 정리

**디렉토리 구조:**
```
eshop/
├── README.md
├── docs/
│   ├── ERD.png
│   ├── 설계서.md
│   └── 발표자료.pdf
├── sql/
│   ├── schema.sql          # 테이블 생성
│   ├── sample_data.sql     # 샘플 데이터
│   ├── indexes.sql         # 인덱스 생성
│   └── queries/
│       ├── statistics.sql  # 통계 쿼리
│       ├── reports.sql     # 리포트 쿼리
│       └── admin.sql       # 관리자 쿼리
└── src/
    └── main/java/com/eshop/
        ├── dao/
        ├── model/
        └── service/
```

### 2.3. 테이블 명세서

| 테이블명 | 설명 | 주요 컬럼 | 외래 키 |
|---------|------|----------|---------|
| Users | 회원 정보 | user_id (PK), email (UQ), name | - |
| Addresses | 배송지 | address_id (PK), user_id (FK) | Users |
| Categories | 카테고리 | category_id (PK), name (UQ) | - |
| Products | 상품 | product_id (PK), category_id (FK), price, stock | Categories |
| Carts | 장바구니 | cart_id (PK), user_id (FK), product_id (FK) | Users, Products |
| Orders | 주문 | order_id (PK), user_id (FK), total_amount, status | Users, Addresses |
| Order_Items | 주문 상세 | order_item_id (PK), order_id (FK), product_id (FK) | Orders, Products |
| Payments | 결제 | payment_id (PK), order_id (FK), method, status | Orders |
| Reviews | 리뷰 | review_id (PK), user_id (FK), product_id (FK), rating | Users, Products, Orders |

---

## 3. 발표 준비

### 3.1. 발표 자료 구성 (15분 기준)

**1. 프로젝트 소개 (2분)**
- 주제 및 목적
- 개발 기간 및 팀 구성
- 기술 스택

**2. 데이터베이스 설계 (4분)**
- ERD 설명
- 주요 엔티티 및 관계
- 정규화 과정

**3. 주요 기능 시연 (5분)**
- 회원 가입 → 주문 → 결제 시나리오
- 통계 쿼리 시연
- 관리자 기능

**4. 성능 최적화 (2분)**
- 인덱스 전략
- EXPLAIN 분석 결과
- 쿼리 최적화 사례

**5. 결론 및 향후 계획 (2분)**
- 프로젝트 성과
- 배운 점
- 향후 개선 방향

### 3.2. 발표 자료 예시 (슬라이드)

**슬라이드 1: 제목**
```
E-Shop: 온라인 쇼핑몰 데이터베이스

실전 데이터베이스 프로젝트
홍길동, 김철수, 이영희
2025.01
```

**슬라이드 2: 프로젝트 개요**
```
📌 주제
- 온라인 쇼핑몰 데이터베이스 설계 및 구현

📌 목표
- 정규화를 적용한 데이터베이스 설계
- 실무 수준의 SQL 쿼리 작성
- 성능 최적화 경험

📌 기술 스택
- MySQL 8.0
- JDBC (Java 17)
- HikariCP (Connection Pool)
```

**슬라이드 3: ERD**
```
[ERD 이미지]

✅ 9개 테이블
✅ 3NF 정규화
✅ 적절한 제약조건 설정
```

**슬라이드 4: 주요 기능**
```
1️⃣ 회원 관리
   - 회원 가입, 로그인
   - 배송지 관리

2️⃣ 상품 관리
   - 카테고리별 분류
   - 재고 관리

3️⃣ 주문 처리
   - 장바구니 → 주문 → 결제

4️⃣ 리뷰 시스템
   - 평점 및 리뷰 작성
```

**슬라이드 5: 데모 (라이브 시연)**
```
🔴 실시간 시연

1. 회원 가입
2. 상품 검색
3. 장바구니 추가
4. 주문 생성
5. 결제 완료
```

**슬라이드 6: 성능 최적화**
```
📈 인덱스 전략
- 주요 FK에 인덱스 생성
- 복합 인덱스 활용
- 커버링 인덱스 적용

📊 EXPLAIN 분석
Before: type=ALL, rows=5000
After:  type=ref, rows=10 ✅

⚡ 쿼리 최적화
- SELECT * 지양
- WHERE 절 함수 제거
- JOIN 활용
```

**슬라이드 7: 통계 쿼리**
```sql
-- 일별 매출
SELECT
    DATE(ordered_at) AS 주문일,
    COUNT(order_id) AS 주문수,
    SUM(total_amount) AS 총매출
FROM Orders
GROUP BY DATE(ordered_at);

-- 인기 상품 Top 10
SELECT
    p.name,
    COUNT(*) AS 판매횟수
FROM Products p
JOIN Order_Items oi ON p.product_id = oi.product_id
GROUP BY p.product_id
ORDER BY 판매횟수 DESC
LIMIT 10;
```

**슬라이드 8: 결론**
```
✅ 성과
- 정규화된 데이터베이스 설계
- 복잡한 비즈니스 로직 구현
- 성능 최적화 경험

📚 배운 점
- ERD 설계의 중요성
- 인덱스 전략 수립
- 트랜잭션 처리

🚀 향후 계획
- 쿠폰 시스템 추가
- Redis 캐싱 적용
- 배송 추적 기능
```

### 3.3. 발표 팁

**✅ Do's (해야 할 것)**
- ERD를 크게 출력하여 벽에 붙이기
- 라이브 데모 준비 (DB 미리 세팅)
- 핵심 쿼리 2-3개만 보여주기
- 실행 결과를 바로 확인
- 팀원 역할 분담 (설계, 구현, 최적화)

**❌ Don'ts (피해야 할 것)**
- 코드를 슬라이드에 너무 많이 넣기
- 긴 SQL을 끝까지 읽기
- 모든 테이블 설명하기
- 에러 발생 시 당황하기

---

## 4. 포트폴리오 활용

### 4.1. GitHub 정리

```bash
# 1. 저장소 생성
git init
git add .
git commit -m "Initial commit: E-Shop Database Project"

# 2. README.md 작성 (위 내용 참고)

# 3. GitHub 업로드
git remote add origin https://github.com/username/eshop-db.git
git push -u origin main
```

### 4.2. 포트폴리오 작성 요령

**프로젝트 소개:**
```
🛒 E-Shop: 온라인 쇼핑몰 데이터베이스

실무 수준의 쇼핑몰 데이터베이스를 설계하고 구현한 프로젝트입니다.
정규화, 인덱스 최적화, 트랜잭션 처리 등 데이터베이스 핵심 개념을 적용했습니다.

📌 주요 성과
- 9개 테이블, 3NF 정규화 적용
- 20+ 개의 복잡한 비즈니스 쿼리 작성
- EXPLAIN 분석을 통한 쿼리 성능 3배 향상
- JDBC를 사용한 Java 애플리케이션 연동

🛠 기술 스택
- Database: MySQL 8.0
- Language: Java 17
- Tools: MySQL Workbench, DBeaver
- Others: JDBC, HikariCP

🔗 GitHub: https://github.com/username/eshop-db
```

### 4.3. 경력 기술서 작성 예시

```
[프로젝트]
E-Shop: 온라인 쇼핑몰 데이터베이스 (2025.01 - 2025.02)

▪ 역할: 데이터베이스 설계 및 최적화 (3인 팀)
▪ 담당 업무:
  - ERD 설계 및 정규화 (1NF → 3NF)
  - MySQL 스키마 설계 (9개 테이블, 15+ 제약조건)
  - 복잡한 통계 쿼리 작성 (Window Function, CTE 활용)
  - 인덱스 전략 수립 및 성능 최적화 (쿼리 속도 3배 향상)
  - JDBC를 사용한 Java 애플리케이션 연동
  - 트랜잭션 처리 (주문, 결제)

▪ 성과:
  - EXPLAIN 분석을 통한 쿼리 최적화 (type: ALL → ref)
  - HikariCP 적용으로 Connection Pool 관리
  - 재고 관리 자동화 (트리거 활용)

▪ 기술 스택: MySQL 8.0, Java 17, JDBC, HikariCP
```

---

## 5. 프로젝트 평가

### 5.1. 자기 평가표

| 항목 | 평가 기준 | 점수 (10점) | 비고 |
|------|----------|------------|------|
| **ERD 설계** | 엔티티 도출, 관계 설정, 정규화 | | |
| **SQL 작성** | DDL, DML, 복잡한 쿼리 | | |
| **제약조건** | PK, FK, CHECK, UNIQUE | | |
| **인덱스** | 적절한 인덱스 생성 | | |
| **트랜잭션** | COMMIT, ROLLBACK 처리 | | |
| **성능 최적화** | EXPLAIN 분석, 쿼리 개선 | | |
| **애플리케이션 연동** | JDBC 연결, CRUD 구현 | | |
| **문서화** | README, 주석, 발표 자료 | | |

### 5.2. 동료 평가 (팀 프로젝트)

```
팀원: 홍길동
- 강점: ERD 설계가 체계적이고 정규화를 잘 적용함
- 개선점: 쿼리 최적화에 더 많은 시간을 할애하면 좋겠음
- 협업: 적극적으로 의견을 공유하고 도움을 줌

종합 점수: 9/10
```

---

## 6. 향후 개선 방향

### 6.1. 기능 확장

**우선순위 1: 쿠폰 시스템**
```sql
CREATE TABLE Coupons (
    coupon_id INT AUTO_INCREMENT PRIMARY KEY,
    code VARCHAR(20) UNIQUE NOT NULL,
    discount_type ENUM('percent', 'fixed') NOT NULL,
    discount_value DECIMAL(10,2) NOT NULL,
    valid_from DATETIME,
    valid_until DATETIME,
    max_uses INT DEFAULT 1
);

CREATE TABLE Coupon_Usage (
    usage_id INT AUTO_INCREMENT PRIMARY KEY,
    coupon_id INT NOT NULL,
    user_id INT NOT NULL,
    order_id INT NOT NULL,
    used_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (coupon_id) REFERENCES Coupons(coupon_id),
    FOREIGN KEY (user_id) REFERENCES Users(user_id),
    FOREIGN KEY (order_id) REFERENCES Orders(order_id)
);
```

**우선순위 2: 상품 옵션 (색상, 사이즈)**
```sql
CREATE TABLE Product_Options (
    option_id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT NOT NULL,
    option_name VARCHAR(50) NOT NULL,  -- 색상, 사이즈 등
    option_value VARCHAR(50) NOT NULL, -- 빨강, L 등
    additional_price DECIMAL(10,2) DEFAULT 0,
    stock INT DEFAULT 0,
    FOREIGN KEY (product_id) REFERENCES Products(product_id)
);
```

**우선순위 3: 배송 추적**
```sql
CREATE TABLE Shipments (
    shipment_id INT AUTO_INCREMENT PRIMARY KEY,
    order_id INT UNIQUE NOT NULL,
    tracking_number VARCHAR(50),
    courier VARCHAR(50),
    status ENUM('preparing', 'shipped', 'in_transit', 'delivered') DEFAULT 'preparing',
    shipped_at DATETIME,
    delivered_at DATETIME,
    FOREIGN KEY (order_id) REFERENCES Orders(order_id)
);
```

### 6.2. 기술 스택 확장

**캐싱 (Redis)**
```java
// 인기 상품 캐싱
@Cacheable(value = "popularProducts", key = "'top10'")
public List<Product> getPopularProducts() {
    // DB 조회
}
```

**검색 엔진 (Elasticsearch)**
```java
// 상품 전문 검색
POST /products/_search
{
  "query": {
    "multi_match": {
      "query": "노트북",
      "fields": ["name^2", "description"]
    }
  }
}
```

**NoSQL (MongoDB)**
```javascript
// 상품 리뷰를 MongoDB에 저장
db.reviews.insertOne({
    productId: 1,
    userId: 1,
    rating: 5,
    content: "훌륭합니다!",
    images: ["url1", "url2"],
    createdAt: new Date()
});
```

---

## 강사 가이드

### 수업 진행 팁

**1. 프로젝트 검증 (30분)**
- 체크리스트 함께 확인
- 데이터 무결성 검증
- 기능 테스트

**2. 문서화 실습 (30분)**
- README.md 작성
- 테이블 명세서 작성
- SQL 스크립트 정리

**3. 발표 준비 (40분)**
- 발표 자료 구성 검토
- 팀별 리허설
- 피드백

**4. 포트폴리오 작성 (20분)**
- GitHub 정리
- 경력 기술서 작성 요령
- 효과적인 프로젝트 소개 방법

### 자주 하는 질문

**Q1: 발표 자료에 코드를 많이 넣어야 하나요?**
> A: 핵심 쿼리 2-3개만 보여주고, 나머지는 실행 결과나 ERD로 대체하세요.

**Q2: 포트폴리오에 어떤 부분을 강조해야 하나요?**
> A: ERD 설계, 정규화 적용, 성능 최적화 경험을 강조하세요. 구체적인 성과(예: 쿼리 속도 3배 향상)를 명시하세요.

**Q3: 향후 개선 방향을 발표에 포함해야 하나요?**
> A: 네, 현재 구현하지 못한 기능을 인지하고 있다는 것을 보여주는 것이 좋습니다.

**Q4: 팀 프로젝트에서 내 역할을 어떻게 어필하나요?**
> A: 구체적으로 "ERD 설계 담당", "성능 최적화 담당" 등 역할을 명시하고, 본인이 작성한 쿼리나 코드를 강조하세요.

### 평가 기준

| 항목 | 배점 | 평가 내용 |
|-----|------|----------|
| **데이터베이스 설계** | 30% | ERD, 정규화, 제약조건 |
| **SQL 구현** | 30% | 테이블 생성, CRUD, 복잡한 쿼리 |
| **비즈니스 로직** | 20% | 트랜잭션, 재고 관리, 주문 처리 |
| **성능 최적화** | 10% | 인덱스, 쿼리 최적화 |
| **문서화 및 발표** | 10% | README, 발표 자료, 시연 |

---

## 요약

### 프로젝트 완료 체크리스트

**데이터베이스:**
- [x] 9개 테이블 생성
- [x] 외래 키 제약조건 설정
- [x] 인덱스 생성
- [x] 샘플 데이터 삽입

**기능:**
- [x] 회원 가입 및 로그인
- [x] 상품 조회 및 검색
- [x] 장바구니 관리
- [x] 주문 및 결제
- [x] 리뷰 작성

**최적화:**
- [x] EXPLAIN 분석
- [x] 쿼리 최적화
- [x] 인덱스 전략

**문서화:**
- [x] README.md
- [x] 테이블 명세서
- [x] SQL 스크립트 정리
- [x] 발표 자료

**발표:**
- [x] 발표 자료 준비
- [x] 데모 준비
- [x] 리허설

### 다음 단계

**이 과정을 마치면:**
- ✅ 데이터베이스 설계 능력 습득
- ✅ 복잡한 SQL 쿼리 작성 능력
- ✅ 성능 최적화 경험
- ✅ 포트폴리오에 추가할 프로젝트 확보

**앞으로 학습할 내용:**
- NoSQL (MongoDB, Redis)
- ORM (JPA, Hibernate)
- 마이크로서비스 아키텍처
- 클라우드 데이터베이스 (AWS RDS, Azure SQL)

---

**🎉 축하합니다!**

**Database 프로그래밍 과정을 완료했습니다!**

이제 여러분은:
- 데이터베이스를 설계할 수 있습니다
- 복잡한 비즈니스 로직을 SQL로 구현할 수 있습니다
- 성능을 최적화할 수 있습니다
- 애플리케이션과 데이터베이스를 연동할 수 있습니다

**계속해서 학습하고 성장하세요!** 🚀
