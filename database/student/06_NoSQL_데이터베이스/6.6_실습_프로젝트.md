# 6.6. 실습: MongoDB 종합 프로젝트

### 1. 프로젝트 목표

- "블로그 플랫폼" 시나리오에 맞춰 MongoDB 데이터베이스를 설계한다.
- CRUD, 집계 파이프라인, 인덱스 등 배운 모든 기능을 종합적으로 활용하여 실전적인 데이터 관리 및 분석 쿼리를 작성한다.

---

### 2. 데이터 모델링 (예시)

- **`users` 컬렉션**: 사용자 정보(이름, 이메일, 프로필 등)를 저장.
- **`posts` 컬렉션**: 게시글 정보(작성자, 제목, 내용, 태그, 댓글, 좋아요 등)를 저장. 댓글과 좋아요는 게시글 문서 내에 배열 형태로 내장(Embed)하여 JOIN 없이 조회할 수 있도록 설계.

---

### 3. Mission 1: 사용자 및 포스트 관리

- **과제 1-1 (데이터 생성):** `users`와 `posts` 컬렉션에 `insertOne`을 사용하여 새로운 사용자와 게시글을 각각 추가하시오.
- **과제 1-2 (인덱스 생성):** `posts` 컬렉션에서 검색 성능 향상을 위해 `author`와 `tags` 필드에 인덱스를 생성하시오.
- **과제 1-3 (데이터 조회):** `find`와 `sort`, `limit`을 사용하여 최신 게시글 10개를 조회하시오.

---

### 4. Mission 2: 상호작용 기능 구현

- **과제 2-1 (조회수 증가):** 특정 게시글의 `views` 필드 값을 1만큼 증가시키시오. (`$inc` 연산자 사용)
- **과제 2-2 (댓글 추가):** 특정 게시글의 `comments` 배열에 새로운 댓글 문서를 추가하시오. (`$push` 연산자 사용)
- **과제 2-3 (좋아요):** 특정 게시글의 `likes` 배열에 사용자 이름을 추가하시오. 단, 같은 사용자가 중복으로 '좋아요'를 누를 수 없도록 처리하시오. (`$addToSet` 연산자 사용)

---

### 5. Mission 3: 데이터 분석 (집계 파이프라인)

- **과제 3-1 (작성자별 통계):** 집계 파이프라인을 사용하여, 각 **작성자(`author`)별**로 작성한 총 게시글 수(`postCount`)와 총 조회수(`totalViews`)를 계산하시오.
- **과제 3-2 (태그별 인기도):** 집계 파이프라인을 사용하여, 가장 많이 사용된 **태그(`tags`)** 상위 10개를 개수와 함께 조회하시오. (`$unwind`와 `$group` 단계 필요)

---

### 6. Mission 4: 검색 및 피드 기능

- **과제 4-1 (텍스트 검색):** `title`과 `content` 필드에 텍스트 인덱스를 생성하고, 특정 키워드로 게시글을 검색하는 쿼리를 작성하시오. (`$text`, `$search` 사용)
- **과제 4-2 (피드 구현):** 특정 사용자(예: 'alice')가 팔로우하는 다른 사용자들의 최신 게시글 20개를 조회하는 쿼리를 작성하시오. (사용자 정보를 먼저 조회한 후, 해당 사용자들이 작성한 게시글을 `find`로 조회)
