# 4.5. 뷰(View) 핵심 요약

### 1. 뷰(View) 기본 개념

- **뷰(View)**
  - 하나 이상의 테이블로부터 유도된 **가상 테이블(Virtual Table)**.
  - 실제 데이터를 저장하는 것이 아니라, `SELECT` 쿼리 자체를 데이터베이스에 저장해두고, 마치 테이블처럼 사용할 수 있게 만든 객체.

- **동작 원리**
  - 뷰를 조회하면, 저장되어 있던 `SELECT` 쿼리가 실행되어 그 결과가 동적으로 반환됨.
  - 기반 테이블의 데이터가 변경되면, 뷰의 조회 결과도 자동으로 변경됨.

---

### 2. 뷰(View)의 장점

- **복잡성 감소**
  - 복잡한 `JOIN`이나 집계 쿼리를 뷰로 만들어두면, 사용자는 간단한 `SELECT * FROM my_view;` 와 같이 단순한 쿼리로 결과를 조회할 수 있음.

- **보안 강화**
  - 원본 테이블의 민감한 정보(예: 급여, 개인정보)를 제외하고, 공개 가능한 열(Column)만으로 뷰를 만들어 사용자에게 제공함으로써 데이터 접근을 제어할 수 있음.

- **데이터 독립성**
  - 기반 테이블의 구조가 변경되더라도, 뷰의 구조는 그대로 유지하여 응용 프로그램의 수정을 최소화할 수 있음.

---

### 3. 뷰(View) 관리 명령어

- **생성**
  ```sql
  CREATE VIEW 뷰이름 AS
  SELECT ...;
  ```

- **수정 또는 생성**
  ```sql
  -- 뷰가 없으면 생성하고, 이미 존재하면 내용을 교체함
  CREATE OR REPLACE VIEW 뷰이름 AS
  SELECT ...;
  ```

- **삭제**
  ```sql
  DROP VIEW 뷰이름;
  ```

- **구조 확인**
  ```sql
  -- 뷰를 생성하는 데 사용된 쿼리 확인
  SHOW CREATE VIEW 뷰이름;
  ```

---

### 4. 뷰(View) 사용 시 주의사항

- **업데이트 제약**
  - `GROUP BY`, `JOIN`, 집계 함수(`COUNT`, `SUM` 등)가 포함된 복잡한 뷰는 `INSERT`, `UPDATE`, `DELETE` 작업이 불가능함.
  - 일반적으로 뷰는 **조회용**으로만 사용하는 것이 원칙.

- **성능**
  - 뷰는 단지 저장된 쿼리이므로, 뷰 자체로 성능이 빨라지는 것은 아님.
  - 뷰의 성능은 기반이 되는 `SELECT` 쿼리의 성능에 따라 결정됨.
  - 뷰 위에 또 다른 뷰를 중첩해서 사용하면 성능이 저하될 수 있음.
