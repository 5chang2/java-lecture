# 2.2. 테이블 관계 설정 핵심 요약

### 1. ERD → 테이블 변환 규칙

- **개체 (Entity)** → **테이블 (Table)**
- **속성 (Attribute)** → **테이블의 열 (Column)**
- **관계 (Relationship)** → **외래 키 (Foreign Key)를 이용해 구현**

---

### 2. 관계별 구현 방법

- **1:1 (일대일 관계) 구현**
  - **방법**: 두 테이블 중 한 곳에 외래 키(FK)를 추가하고, 해당 외래 키 열에 **UNIQUE 제약조건**을 설정하여 다른 행과 중복된 값을 가질 수 없도록 한다.
  - **목적**: 민감한 정보 분리, 자주 사용하지 않는 데이터 분리 등 성능 및 보안을 위해 사용.
  - **예시**: `users` 테이블과 `user_profiles` 테이블. `user_profiles`의 `user_id(FK)`에 `UNIQUE`를 설정.

- **1:N (일대다 관계) 구현**
  - **방법**: **'다(N)' 쪽 테이블**에 '일(1)' 쪽 테이블의 기본 키(PK)를 참조하는 외래 키(FK)를 추가한다. (가장 일반적인 관계 구현 방식)
  - **예시**: `게시글(N)` 테이블에 `회원(1)` 테이블의 `user_id`를 외래 키로 추가하여, 어떤 회원이 작성한 글인지 명시.

- **N:M (다대다 관계) 구현**
  - **방법**: RDBMS에서 직접 표현이 불가능하므로, 두 테이블을 연결하는 **중간 테이블(Junction Table)**을 별도로 생성한다.
  - **구조**: `테이블A`와 `테이블B`의 N:M 관계는 `테이블A (1) ↔ (N) 중간_테이블 (N) ↔ (1) 테이블B` 형태로 두 개의 1:N 관계로 분해하여 표현한다.
  - **중간 테이블의 구성**: 최소한 `테이블A`의 PK와 `테이블B`의 PK를 외래 키로 가져와야 하며, 관계에 대한 추가 정보(예: 등록일, 성적, 권한 등)를 저장할 수 있다.
  - **예시**: `학생`과 `과목`의 N:M 관계를 해결하기 위해 `수강신청`이라는 중간 테이블을 생성.

---

### 3. 키(Key)와 관계

- **외래 키 (Foreign Key)**는 테이블 간의 관계를 맺어주는 **물리적인 핵심 장치**이다.
- 외래 키 제약조건을 설정하면, 존재하지 않는 데이터를 참조하는 것을 막아 **참조 무결성**을 보장할 수 있다.
