# 3.2. DML (데이터 조작어) 핵심 요약

- **DML (Data Manipulation Language)**: 테이블의 데이터를 조작(추가, 수정, 삭제)하는 언어. SQL에서 가장 빈번하게 사용됨.

---

### 1. `INSERT` (데이터 추가)

- **기본 구문**
  ```sql
  INSERT INTO 테이블명 (컬럼1, 컬럼2, ...)
  VALUES (값1, 값2, ...);
  ```

- **여러 행 추가**
  ```sql
  INSERT INTO 테이블명 (컬럼1, 컬럼2)
  VALUES 
      (값A1, 값A2),
      (값B1, 값B2),
      (값C1, 값C2);
  ```

---

### 2. `UPDATE` (데이터 수정)

- **기본 구문**
  ```sql
  UPDATE 테이블명
  SET 컬럼1 = 값1, 컬럼2 = 값2, ...
  WHERE 조건;
  ```

- **⚠️ 중요**
  - `WHERE` 절을 생략하면 테이블의 **모든 행**이 수정되므로 반드시 포함해야 함.

---

### 3. `DELETE` (데이터 삭제)

- **기본 구문**
  ```sql
  DELETE FROM 테이블명
  WHERE 조건;
  ```

- **⚠️ 중요**
  - `WHERE` 절을 생략하면 테이블의 **모든 데이터**가 삭제되므로 반드시 포함해야 함.

---

### 4. 안전한 DML 사용을 위한 팁

1.  **`SELECT`로 먼저 확인하기**
    - `UPDATE`나 `DELETE`를 실행하기 전에, 동일한 `WHERE` 절을 사용한 `SELECT` 문으로 변경/삭제될 대상을 먼저 조회하여 확인하는 습관을 들인다.

2.  **트랜잭션(Transaction) 활용하기**
    - 중요한 데이터 변경 작업은 트랜잭션 블록 안에서 실행하여 실수를 방지한다.
    ```sql
    -- 트랜잭션 시작
    START TRANSACTION;

    -- 데이터 수정 또는 삭제 작업 수행
    UPDATE customers SET active = FALSE WHERE customer_id = 1;

    -- 변경된 내용 확인
    SELECT * FROM customers WHERE customer_id = 1;

    -- 작업에 문제가 없으면 최종 반영
    COMMIT;

    -- 만약 실수가 있었다면 작업 취소
    -- ROLLBACK;
    ```
