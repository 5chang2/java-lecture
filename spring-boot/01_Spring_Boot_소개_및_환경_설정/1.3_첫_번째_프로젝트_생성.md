# 1.3 첫 번째 Spring Boot 프로젝트 생성

> **학습 목표**
> - Spring Initializr를 사용하여 프로젝트를 생성할 수 있습니다
> - Spring Boot 프로젝트 구조를 이해합니다
> - 첫 번째 웹 애플리케이션을 실행할 수 있습니다
> - 간단한 REST API를 만들 수 있습니다

---

## 1. Spring Initializr로 프로젝트 생성

### 1.1 Spring Initializr란?

- Spring Boot 프로젝트를 **자동으로 생성**해주는 웹 도구
- 필요한 의존성을 선택하면 프로젝트 뼈대를 만들어줌
- 웹사이트 또는 IntelliJ IDEA에서 사용 가능

공식 사이트: https://start.spring.io/

### 1.2 웹사이트에서 프로젝트 생성

**1. Spring Initializr 접속**

```
https://start.spring.io/
```

**2. 프로젝트 설정**

다음과 같이 설정합니다:

```
Project: Gradle - Groovy
Language: Java
Spring Boot: 3.2.x (가장 최신 안정 버전)

Project Metadata:
  Group: com.example
  Artifact: hello-spring
  Name: hello-spring
  Description: My First Spring Boot Project
  Package name: com.example.hellospring
  Packaging: Jar
  Java: 21

Dependencies:
  - Spring Web
```

**각 항목 설명**:

| 항목 | 설명 | 값 |
|------|------|-----|
| **Project** | 빌드 도구 | Gradle (현대적, 빠름) |
| **Language** | 개발 언어 | Java |
| **Spring Boot** | Spring Boot 버전 | 3.2.x (최신 안정) |
| **Group** | 그룹 ID (조직) | com.example |
| **Artifact** | 프로젝트 이름 | hello-spring |
| **Packaging** | 패키징 방식 | Jar (내장 서버 포함) |
| **Java** | Java 버전 | 21 |
| **Dependencies** | 필요한 라이브러리 | Spring Web (웹 개발용) |

**3. 프로젝트 생성**

```
GENERATE 버튼 클릭
→ hello-spring.zip 다운로드
```

**4. 압축 해제**

```
원하는 위치에 압축 해제
예: C:\projects\hello-spring
```

### 1.3 IntelliJ IDEA에서 직접 생성 (선택)

IntelliJ IDEA에서도 프로젝트를 생성할 수 있습니다.

```
1. New Project 클릭
2. Generators → Spring Initializr 선택
3. 위와 동일한 설정 입력
4. Create 클릭
```

---

## 2. IntelliJ IDEA로 프로젝트 열기

### 2.1 프로젝트 임포트

**1. IntelliJ IDEA 실행**

```
Open 클릭
→ hello-spring 폴더 선택
→ build.gradle 파일이 보이는지 확인
→ OK 클릭
```

**2. Trust Project**

```
"Trust and Open Gradle Project" 선택
```

**3. Gradle 빌드**

- IntelliJ IDEA가 자동으로 의존성을 다운로드합니다
- 우측 하단에 진행 상태 표시
- 완료될 때까지 대기 (처음엔 시간이 좀 걸림)

### 2.2 프로젝트 구조 확인

**왼쪽 프로젝트 탐색기**:

```
hello-spring/
├── .gradle/                  # Gradle 빌드 파일
├── .idea/                    # IntelliJ IDEA 설정
├── gradle/                   # Gradle Wrapper
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/example/hellospring/
│   │   │       └── HelloSpringApplication.java  # 메인 클래스
│   │   └── resources/
│   │       ├── static/                          # 정적 파일 (CSS, JS)
│   │       ├── templates/                       # 템플릿 파일 (HTML)
│   │       └── application.properties           # 설정 파일
│   └── test/
│       └── java/
│           └── com/example/hellospring/
│               └── HelloSpringApplicationTests.java
├── build.gradle              # Gradle 빌드 설정
└── settings.gradle
```

**주요 파일 설명**:

| 파일/폴더 | 역할 |
|-----------|------|
| `HelloSpringApplication.java` | 애플리케이션 시작점 |
| `application.properties` | 애플리케이션 설정 (포트, DB 등) |
| `build.gradle` | 의존성 및 빌드 설정 |
| `src/main/java/` | Java 소스 코드 |
| `src/main/resources/` | 설정 파일 및 정적 리소스 |
| `src/test/java/` | 테스트 코드 |

---

## 3. 프로젝트 파일 이해하기

### 3.1 HelloSpringApplication.java

**파일 경로**: `src/main/java/com/example/hellospring/HelloSpringApplication.java`

```java
package com.example.hellospring;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class HelloSpringApplication {

    public static void main(String[] args) {
        SpringApplication.run(HelloSpringApplication.class, args);
    }

}
```

**코드 설명**:

- `@SpringBootApplication`: Spring Boot 애플리케이션임을 선언
  - 이 애너테이션 하나로 자동 설정, 컴포넌트 스캔 등 모든 게 활성화됨
- `main()`: 일반 Java 애플리케이션처럼 시작점
- `SpringApplication.run()`: Spring Boot 애플리케이션 실행

### 3.2 build.gradle

**파일 경로**: `build.gradle`

```groovy
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'

java {
    sourceCompatibility = '21'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

tasks.named('test') {
    useJUnitPlatform()
}
```

**주요 부분**:

- `plugins`: 사용할 Gradle 플러그인
- `dependencies`: 프로젝트 의존성
  - `spring-boot-starter-web`: 웹 개발에 필요한 모든 것 포함
- `repositories`: 의존성을 다운로드할 저장소 (Maven Central)

### 3.3 application.properties

**파일 경로**: `src/main/resources/application.properties`

처음엔 비어 있습니다. 여기에 설정을 추가할 수 있습니다.

```properties
# 서버 포트 변경 (기본값: 8080)
server.port=8080

# 로그 레벨 설정
logging.level.root=INFO
```

---

## 4. 첫 번째 애플리케이션 실행

### 4.1 애플리케이션 실행 방법

**방법 1: IntelliJ IDEA에서 실행 (권장)**

```
1. HelloSpringApplication.java 열기
2. main() 메서드 옆의 ▶️ 버튼 클릭
   또는
   Shift+F10 (Windows/Linux)
   Control+R (macOS)
```

**방법 2: Gradle로 실행**

```bash
# 터미널에서 실행
./gradlew bootRun    # macOS/Linux
gradlew bootRun      # Windows
```

### 4.2 실행 확인

**콘솔 출력**:

```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v3.2.0)

... INFO ... : Starting HelloSpringApplication ...
... INFO ... : Tomcat started on port(s): 8080 (http)
... INFO ... : Started HelloSpringApplication in 2.5 seconds
```

**성공 메시지 확인**:
- `Tomcat started on port(s): 8080` ✅
- `Started HelloSpringApplication` ✅

### 4.3 브라우저에서 확인

브라우저를 열고 다음 주소로 접속:

```
http://localhost:8080
```

**결과**:

```json
{
  "timestamp": "2024-01-15T10:30:00.000+00:00",
  "status": 404,
  "error": "Not Found",
  "path": "/"
}
```

**404 에러가 정상입니다!**
- 서버는 정상 작동 중
- 아직 `/` 경로에 매핑된 컨트롤러가 없어서 404

---

## 5. 첫 번째 REST API 만들기

### 5.1 HelloController 생성

**1. 새 파일 생성**

```
src/main/java/com/example/hellospring/ 우클릭
→ New → Java Class
→ 이름: HelloController
```

**2. 코드 작성**

```java
package com.example.hellospring;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {

    @GetMapping("/")
    public String hello() {
        return "Hello, Spring Boot!";
    }

    @GetMapping("/hello")
    public String helloWorld() {
        return "Hello, World!";
    }
}
```

**코드 설명**:

- `@RestController`: 이 클래스가 REST API 컨트롤러임을 선언
- `@GetMapping("/")`: HTTP GET 요청을 `/` 경로로 매핑
- `return "Hello, Spring Boot!"`: 문자열을 그대로 응답

### 5.2 애플리케이션 재시작

**IntelliJ IDEA에서**:

```
1. Stop 버튼 (빨간 사각형) 클릭
2. Run 버튼 (녹색 ▶️) 클릭
```

### 5.3 테스트

**브라우저에서**:

```
http://localhost:8080/
→ "Hello, Spring Boot!" 출력

http://localhost:8080/hello
→ "Hello, World!" 출력
```

축하합니다! 첫 번째 Spring Boot 애플리케이션이 완성되었습니다! 🎉

---

## 6. 조금 더 복잡한 API 만들기

### 6.1 JSON 응답하기

**User 클래스 생성**:

```java
package com.example.hellospring;

public class User {
    private String name;
    private int age;

    // 생성자
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // Getter (필수!)
    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }
}
```

**HelloController에 추가**:

```java
@RestController
public class HelloController {

    @GetMapping("/")
    public String hello() {
        return "Hello, Spring Boot!";
    }

    @GetMapping("/hello")
    public String helloWorld() {
        return "Hello, World!";
    }

    @GetMapping("/user")
    public User getUser() {
        return new User("홍길동", 25);
    }
}
```

**테스트**:

```
http://localhost:8080/user
```

**결과** (JSON 자동 변환!):

```json
{
  "name": "홍길동",
  "age": 25
}
```

**주목**:
- `User` 객체가 자동으로 JSON으로 변환됨!
- Spring Boot가 Jackson 라이브러리를 자동 설정했기 때문

### 6.2 경로 변수 사용하기

**HelloController에 추가**:

```java
@RestController
public class HelloController {

    // ... 기존 코드 ...

    @GetMapping("/greet/{name}")
    public String greet(@PathVariable String name) {
        return "안녕하세요, " + name + "님!";
    }
}
```

**테스트**:

```
http://localhost:8080/greet/홍길동
→ "안녕하세요, 홍길동님!"

http://localhost:8080/greet/Spring
→ "안녕하세요, Spring님!"
```

**코드 설명**:
- `{name}`: 경로 변수 (Path Variable)
- `@PathVariable String name`: URL의 `{name}` 부분을 name 파라미터로 받음

---

## 7. 프로젝트 구조 다시 보기

이제 우리가 만든 파일들을 확인해봅시다:

```
hello-spring/
└── src/main/java/com/example/hellospring/
    ├── HelloSpringApplication.java   # 메인 클래스
    ├── HelloController.java          # REST API 컨트롤러
    └── User.java                      # 데이터 모델
```

**역할 분담**:
- `HelloSpringApplication`: 애플리케이션 시작
- `HelloController`: HTTP 요청 처리 (API)
- `User`: 데이터 구조 정의

---

## 8. Plain Java와 비교

### Plain Java (Servlet) 방식

```java
// 1. web.xml 설정 필요 (복잡)
// 2. 서블릿 클래스 작성
@WebServlet("/hello")
public class HelloServlet extends HttpServlet {
    protected void doGet(HttpServletRequest request,
                         HttpServletResponse response)
            throws IOException {
        response.setContentType("text/plain; charset=UTF-8");
        PrintWriter out = response.getWriter();
        out.println("Hello, World!");
        out.close();
    }
}
// 3. WAR 파일로 패키징
// 4. Tomcat에 배포
// 5. 서버 재시작
```

### Spring Boot 방식

```java
// 1. 설정 파일 불필요
@RestController
public class HelloController {
    @GetMapping("/hello")
    public String hello() {
        return "Hello, World!";
    }
}
// 2. main() 실행하면 끝!
```

**차이점**:
- 설정 파일 불필요
- 코드가 훨씬 간결
- 서버 설치/배포 과정 생략
- 즉시 실행 가능

---

## 실습 문제

### 문제 1: 자기소개 API 만들기

**요구사항**:
- `/intro` 경로에 GET 요청 시
- 본인의 이름, 나이, 직업을 JSON으로 응답

**힌트**:
```java
@GetMapping("/intro")
public ??? intro() {
    return new ???("홍길동", 25, "개발자");
}
```

<details>
<summary>답안 보기</summary>

```java
// Profile 클래스 생성
public class Profile {
    private String name;
    private int age;
    private String job;

    public Profile(String name, int age, String job) {
        this.name = name;
        this.age = age;
        this.job = job;
    }

    public String getName() { return name; }
    public int getAge() { return age; }
    public String getJob() { return job; }
}

// HelloController에 추가
@GetMapping("/intro")
public Profile intro() {
    return new Profile("홍길동", 25, "개발자");
}
```

**테스트**:
```
http://localhost:8080/intro
```

**결과**:
```json
{
  "name": "홍길동",
  "age": 25,
  "job": "개발자"
}
```

</details>

### 문제 2: 계산기 API 만들기

**요구사항**:
- `/add/{a}/{b}` 경로에 GET 요청 시
- 두 숫자의 합을 응답

**예시**:
```
http://localhost:8080/add/10/20
→ "30"
```

<details>
<summary>답안 보기</summary>

```java
@GetMapping("/add/{a}/{b}")
public String add(@PathVariable int a, @PathVariable int b) {
    int result = a + b;
    return String.valueOf(result);
}
```

**테스트**:
```
http://localhost:8080/add/10/20
→ "30"

http://localhost:8080/add/100/200
→ "300"
```

</details>

---

## 정리

### 오늘 배운 내용

1. **Spring Initializr**로 프로젝트 생성
   - 웹사이트 또는 IntelliJ IDEA 사용
   - 필요한 의존성 선택

2. **프로젝트 구조** 이해
   - `src/main/java`: Java 소스 코드
   - `src/main/resources`: 설정 및 정적 파일
   - `build.gradle`: 빌드 설정

3. **첫 번째 REST API** 작성
   - `@RestController`: REST API 컨트롤러
   - `@GetMapping`: HTTP GET 요청 매핑
   - 자동 JSON 변환

4. **Plain Java와 비교**
   - 설정 간소화
   - 코드 간결화
   - 즉시 실행 가능

### 다음 단계

축하합니다! 첫 번째 챕터를 완료했습니다.

다음 챕터에서는:
- **Spring MVC** 패턴 이해
- **Thymeleaf**로 HTML 페이지 렌더링
- **폼 처리** 및 데이터 바인딩

---

## 강사 가이드

### 강의 진행 팁

**1. 시연 위주 진행**
- 학생들과 함께 코드 작성
- 실행 → 결과 확인 → 코드 수정 → 재실행 반복
- 즉각적인 피드백이 중요

**2. 브레이크포인트 활용**
- 코드가 어떻게 실행되는지 디버거로 보여주기
- Spring Boot의 자동 설정 과정 이해 돕기

**3. 실습 시간 충분히 확보**
- 강의 30분 + 실습 30분
- 학생들이 직접 타이핑하도록 유도
- 복사-붙여넣기 지양

**4. 에러 대응 교육**
- 일부러 에러를 발생시켜 보기
- 에러 메시지 읽는 법 가르치기
- 스택 트레이스 이해하기

### 일반적인 문제 해결

**문제 1: 포트 8080이 이미 사용 중**

```
원인: 다른 프로그램이 8080 포트 사용
해결:
1. application.properties에 추가
   server.port=8081
2. 또는 기존 프로그램 종료
```

**문제 2: 의존성 다운로드 실패**

```
원인: 네트워크 문제 또는 저장소 접근 불가
해결:
1. IntelliJ IDEA 재시작
2. File → Invalidate Caches / Restart
3. Gradle 캐시 삭제 후 재빌드
```

**문제 3: Getter가 없어서 JSON 변환 안 됨**

```
원인: Jackson이 Getter를 통해 JSON 변환
해결: User 클래스에 Getter 메서드 추가
```

### 예상 질문과 답변

**Q: @RestController와 @Controller의 차이는?**
A: `@RestController`는 `@Controller` + `@ResponseBody`입니다. JSON/텍스트를 직접 응답할 때 사용합니다. 다음 챕터에서 자세히 다룹니다.

**Q: Gradle과 Maven 중 뭘 써야 하나요?**
A: 둘 다 괜찮지만, Gradle이 더 현대적이고 빠릅니다. 이 강의에서는 Gradle을 사용합니다.

**Q: application.properties 대신 YAML을 써도 되나요?**
A: 네, `application.yml`로 작성 가능합니다. YAML이 더 가독성이 좋지만, 처음엔 properties가 더 쉽습니다.

**Q: 왜 User 클래스에 Getter만 있고 Setter는 없나요?**
A: 불변 객체(Immutable Object)로 만들기 위함입니다. 생성 후 값이 변경되지 않도록 하는 게 좋은 습관입니다.

---

**[이전: 1.2 개발 환경 구성](./1.2_개발_환경_구성.md)** | **[다음: 챕터 2로 이동](../02_Spring_MVC_기초/)**
