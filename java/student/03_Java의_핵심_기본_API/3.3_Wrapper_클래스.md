# 3.3. Wrapper 클래스 - 기본형을 객체로

> Wrapper 클래스를 이해하고 기본형과 참조형 간의 변환을 할 수 있다.

## Wrapper 클래스란?

**Wrapper 클래스**는 기본 자료형(Primitive Type)을 객체로 감싸는(wrap) 클래스입니다.

Java는 기본형과 참조형이라는 두 가지 타입 체계를 가지고 있습니다. 때로는 기본형 데이터를 객체로 다뤄야 하는 상황이 있는데, 이때 Wrapper 클래스를 사용합니다.

### 기본형과 Wrapper 클래스 대응

| 기본형 | Wrapper 클래스 |
|:------|:-------------|
| `byte` | `Byte` |
| `short` | `Short` |
| `int` | `Integer` |
| `long` | `Long` |
| `float` | `Float` |
| `double` | `Double` |
| `char` | `Character` |
| `boolean` | `Boolean` |

**JavaScript 비교**: JavaScript에서는 원시 타입(number, string, boolean 등)이 필요에 따라 자동으로 객체처럼 동작합니다.

```javascript
let num = 42;
console.log(num.toString());  // "42" - 원시 타입이 자동으로 객체처럼 동작
```

---

## Wrapper 클래스를 사용하는 이유

### 1. 컬렉션 프레임워크

Java의 컬렉션(ArrayList, HashMap 등)은 **객체만** 저장할 수 있습니다. 기본형은 직접 저장할 수 없습니다.

```java
// ArrayList<int> list = new ArrayList<>();  // 에러! 기본형 불가
ArrayList<Integer> list = new ArrayList<>();  // 정상! Wrapper 클래스 사용
list.add(10);
list.add(20);
```

### 2. null 값 표현

기본형은 null 값을 가질 수 없지만, Wrapper 클래스는 참조형이므로 null을 가질 수 있습니다.

```java
int num1 = null;      // 에러! 기본형은 null 불가
Integer num2 = null;  // 정상! 참조형은 null 가능
```

### 3. 유틸리티 메서드 제공

Wrapper 클래스는 문자열을 숫자로 변환하는 등 다양한 유틸리티 메서드를 제공합니다.

```java
String str = "123";
int num = Integer.parseInt(str);  // 문자열 -> 정수 변환
```

---

## Boxing과 Unboxing

### Boxing (박싱)

기본형 값을 Wrapper 클래스 객체로 변환하는 것을 **Boxing**이라고 합니다.

```java
// 수동 Boxing
int num = 10;
Integer obj = Integer.valueOf(num);  // int -> Integer
```

### Unboxing (언박싱)

Wrapper 클래스 객체를 기본형 값으로 변환하는 것을 **Unboxing**이라고 합니다.

```java
// 수동 Unboxing
Integer obj = Integer.valueOf(10);
int num = obj.intValue();  // Integer -> int
```

### Auto Boxing / Auto Unboxing

Java 5부터 자동으로 Boxing과 Unboxing이 이루어집니다.

```java
// Auto Boxing
int num1 = 10;
Integer obj1 = num1;  // 자동으로 Integer.valueOf(num1) 호출

// Auto Unboxing
Integer obj2 = Integer.valueOf(20);
int num2 = obj2;      // 자동으로 obj2.intValue() 호출

// 연산에서도 자동 변환
Integer obj3 = 30;
Integer obj4 = 40;
int sum = obj3 + obj4;  // 자동으로 언박싱되어 연산
```

**JavaScript 비교**: JavaScript는 기본형과 객체형의 구분이 덜 엄격하여 자동 변환이 더 자유롭습니다.

---

## Integer 클래스

가장 많이 사용되는 Wrapper 클래스인 Integer를 살펴보겠습니다.

### 객체 생성

```java
// 방법 1: 생성자 사용 (Java 9부터 권장하지 않음)
Integer num1 = new Integer(10);

// 방법 2: valueOf() 사용 (권장)
Integer num2 = Integer.valueOf(10);

// 방법 3: Auto Boxing (가장 간단)
Integer num3 = 10;
```

### 주요 메서드

#### 문자열 ↔ 정수 변환

```java
// 문자열 -> int
String str = "123";
int num = Integer.parseInt(str);
System.out.println(num);  // 123

// 문자열 -> Integer
Integer obj = Integer.valueOf(str);
System.out.println(obj);  // 123

// Integer -> 문자열
Integer num = 123;
String str = num.toString();
System.out.println(str);  // "123"

// int -> 문자열
int num = 123;
String str = Integer.toString(num);
System.out.println(str);  // "123"
```

**JavaScript 비교**:
```javascript
let str = "123";
let num = parseInt(str);    // 문자열 -> 숫자
let str2 = num.toString();  // 숫자 -> 문자열
```

#### 진법 변환

```java
// 10진수 -> 2진수 문자열
int num = 10;
String binary = Integer.toBinaryString(num);
System.out.println(binary);  // "1010"

// 10진수 -> 16진수 문자열
String hex = Integer.toHexString(num);
System.out.println(hex);  // "a"

// 2진수 문자열 -> 10진수
String binaryStr = "1010";
int decimal = Integer.parseInt(binaryStr, 2);
System.out.println(decimal);  // 10
```

#### 비교

```java
Integer num1 = 10;
Integer num2 = 20;

// compareTo: 작으면 음수, 같으면 0, 크면 양수
System.out.println(num1.compareTo(num2));  // -1 (num1 < num2)
System.out.println(num2.compareTo(num1));  // 1 (num2 > num1)

Integer num3 = 10;
System.out.println(num1.compareTo(num3));  // 0 (num1 == num3)
```

#### 상수 값

```java
System.out.println(Integer.MAX_VALUE);  // 2147483647 (int 최대값)
System.out.println(Integer.MIN_VALUE);  // -2147483648 (int 최소값)
System.out.println(Integer.SIZE);       // 32 (비트 수)
System.out.println(Integer.BYTES);      // 4 (바이트 수)
```

---

## Double 클래스

실수를 다루는 Wrapper 클래스입니다.

### 주요 메서드

```java
// 문자열 -> double
String str = "3.14";
double num = Double.parseDouble(str);
System.out.println(num);  // 3.14

// Double -> 문자열
Double obj = 3.14;
String str2 = obj.toString();
System.out.println(str2);  // "3.14"

// 상수 값
System.out.println(Double.MAX_VALUE);  // 1.7976931348623157E308
System.out.println(Double.MIN_VALUE);  // 4.9E-324
System.out.println(Double.NaN);        // NaN (Not a Number)
System.out.println(Double.POSITIVE_INFINITY);  // Infinity
System.out.println(Double.NEGATIVE_INFINITY);  // -Infinity
```

### 특수 값 검사

```java
double num1 = 0.0 / 0.0;  // NaN
double num2 = 1.0 / 0.0;  // Infinity

System.out.println(Double.isNaN(num1));       // true
System.out.println(Double.isInfinite(num2));  // true
System.out.println(Double.isFinite(3.14));    // true
```

**JavaScript 비교**:
```javascript
let num1 = 0 / 0;    // NaN
let num2 = 1 / 0;    // Infinity

console.log(isNaN(num1));        // true
console.log(isFinite(num2));     // false
```

---

## Character 클래스

문자를 다루는 Wrapper 클래스입니다.

### 주요 메서드

```java
char ch = 'A';

// 문자 타입 검사
System.out.println(Character.isDigit(ch));       // false
System.out.println(Character.isLetter(ch));      // true
System.out.println(Character.isUpperCase(ch));   // true
System.out.println(Character.isLowerCase(ch));   // false
System.out.println(Character.isWhitespace(ch));  // false

// 대소문자 변환
System.out.println(Character.toUpperCase('a'));  // A
System.out.println(Character.toLowerCase('A'));  // a
```

```java
char digit = '5';
System.out.println(Character.isDigit(digit));    // true

char space = ' ';
System.out.println(Character.isWhitespace(space));  // true
```

---

## Boolean 클래스

논리값을 다루는 Wrapper 클래스입니다.

### 주요 메서드

```java
// 문자열 -> boolean
String str1 = "true";
boolean bool1 = Boolean.parseBoolean(str1);
System.out.println(bool1);  // true

String str2 = "false";
boolean bool2 = Boolean.parseBoolean(str2);
System.out.println(bool2);  // false

// 대소문자 무관
String str3 = "TRUE";
boolean bool3 = Boolean.parseBoolean(str3);
System.out.println(bool3);  // true

// "true"가 아닌 모든 문자열은 false
String str4 = "yes";
boolean bool4 = Boolean.parseBoolean(str4);
System.out.println(bool4);  // false
```

---

## Wrapper 클래스 주의사항

### 1. == 연산자 사용 시 주의

Wrapper 클래스는 참조형이므로 `==` 연산자는 객체의 동일성을 비교합니다.

```java
Integer num1 = 128;
Integer num2 = 128;

System.out.println(num1 == num2);       // false (다른 객체)
System.out.println(num1.equals(num2));  // true (같은 값)
```

**예외**: -128 ~ 127 범위의 값은 캐싱되어 같은 객체를 참조합니다.

```java
Integer num3 = 127;
Integer num4 = 127;

System.out.println(num3 == num4);  // true (캐싱된 같은 객체)
```

**권장**: Wrapper 클래스 비교 시 항상 `.equals()` 사용!

### 2. null 체크 필요

Wrapper 클래스는 null 값을 가질 수 있으므로, 자동 언박싱 시 NullPointerException이 발생할 수 있습니다.

```java
Integer num = null;
int value = num;  // NullPointerException 발생!
```

안전한 코드:
```java
Integer num = null;
if (num != null) {
    int value = num;
}
```

### 3. 성능 고려

Boxing/Unboxing은 객체 생성 비용이 들므로, 단순 연산이 많은 경우 기본형을 사용하는 것이 더 효율적입니다.

```java
// 비효율적 (Boxing/Unboxing 반복)
Integer sum = 0;
for (int i = 0; i < 1000000; i++) {
    sum += i;  // 매번 언박싱/박싱 발생
}

// 효율적 (기본형 사용)
int sum = 0;
for (int i = 0; i < 1000000; i++) {
    sum += i;
}
```

---

## 요약

- **Wrapper 클래스**: 기본형을 객체로 감싸는 클래스
  - `Integer`, `Double`, `Character`, `Boolean` 등
- **사용 이유**:
  - 컬렉션에 기본형 저장
  - null 값 표현
  - 유틸리티 메서드 활용
- **Boxing**: 기본형 → Wrapper 객체
- **Unboxing**: Wrapper 객체 → 기본형
- **Auto Boxing/Unboxing**: Java 5부터 자동 변환 지원
- **주의사항**:
  - 비교 시 `.equals()` 사용
  - null 체크 필요
  - 성능이 중요한 경우 기본형 사용
