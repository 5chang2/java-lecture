# 4.1. 클래스와 객체

> 클래스와 객체의 개념을 이해하고, 객체 지향 프로그래밍의 기초를 학습한다.

## 왜 클래스가 필요한가?

### 기존 프로그래밍 방식의 한계

사각형의 넓이와 높이를 이용해 면적을 계산하는 코드를 작성해보겠습니다.

```java
public class Main {
    public static void main(String[] args) {
        int width = 10;  // 너비
        int height = 5;  // 높이
        int rectangleArea = width * height;  // 면적 = 너비 x 높이
        System.out.println(rectangleArea);  // 50
    }
}
```

만약 여러 개의 사각형이 필요하다면?

```java
public class Main {
    public static void main(String[] args) {
        // 첫 번째 사각형
        int width1 = 10;
        int height1 = 5;
        int rectangleArea1 = width1 * height1;
        System.out.println(rectangleArea1);  // 50

        // 두 번째 사각형
        int width2 = 7;
        int height2 = 3;
        int rectangleArea2 = width2 * height2;
        System.out.println(rectangleArea2);  // 21

        // 세 번째 사각형
        int width3 = 1;
        int height3 = 10;
        int rectangleArea3 = width3 * height3;
        System.out.println(rectangleArea3);  // 10
    }
}
```

**문제점:**
- 동일한 로직이 반복되어 코드 중복 발생
- `width * height`가 무엇을 의미하는지 명확하지 않음
- 새로운 도형(원, 삼각형 등)이 추가되면 Main 클래스가 복잡해짐

**JavaScript 비교**: JavaScript에서도 동일한 문제가 발생합니다.
```javascript
// JavaScript - 반복적인 코드
let width1 = 10, height1 = 5;
let area1 = width1 * height1;

let width2 = 7, height2 = 3;
let area2 = width2 * height2;
```

### 메서드로 개선하기

반복되는 로직을 메서드로 분리하여 의미를 명확히 할 수 있습니다.

```java
public class Main {
    public static void main(String[] args) {
        int rectangleArea1 = calculateRectangleArea(10, 5);
        System.out.println(rectangleArea1);  // 50

        int rectangleArea2 = calculateRectangleArea(7, 3);
        System.out.println(rectangleArea2);  // 21

        int rectangleArea3 = calculateRectangleArea(1, 10);
        System.out.println(rectangleArea3);  // 10
    }

    // 사각형의 면적을 구하는 메서드
    public static int calculateRectangleArea(int width, int height) {
        return width * height;
    }
}
```

**개선점:**
- 코드 중복 제거
- 메서드명으로 의미가 명확해짐

**하지만 여전히 문제:**
- 원, 삼각형 등 다른 도형이 추가되면 Main 클래스에 계속 기능이 추가됨
- 관련 있는 데이터(속성)와 기능(메서드)이 분리되어 있음

---

## 클래스란?

**클래스(Class)**는 비슷한 **속성(데이터)**과 **기능(동작)**을 하나로 묶어 새로운 타입을 정의하는 **설계도**입니다.

### 클래스 문법

```java
public class 클래스명 {
    // 속성(필드)
    데이터타입 변수명;

    // 생성자
    public 클래스명(매개변수) {
        // 초기화 로직
    }

    // 기능(메서드)
    public 반환타입 메서드명(매개변수) {
        // 동작 로직
    }
}
```

**명명 규칙:**
- 클래스명은 **파스칼 케이스(Pascal Case)** 사용
- 첫 글자는 대문자
- 명사형으로 작성
- 예약어 사용 불가

**JavaScript 비교**: ES6의 class 문법과 유사하지만, Java는 진정한 클래스 기반 OOP입니다.

```javascript
// JavaScript ES6 클래스
class Rectangle {
    constructor(width, height) {
        this.width = width;
        this.height = height;
    }

    calculateArea() {
        return this.width * this.height;
    }
}
```

### 속성과 기능

사각형과 원을 통해 속성과 기능을 이해해봅시다.

**사각형(Rectangle)**
- **속성**: 너비(width), 높이(height)
- **기능**: 면적 계산(calculateArea)

**원(Circle)**
- **속성**: 반지름(radius)
- **기능**: 면적 계산(calculateArea)

### 클래스로 구현하기

#### Rectangle 클래스

```java
public class Rectangle {
    // 속성(필드)
    public int width;
    public int height;

    // 생성자
    public Rectangle(int width, int height) {
        this.width = width;
        this.height = height;
    }

    // 기능(메서드)
    public int calculateArea() {
        return this.width * this.height;
    }
}
```

#### Circle 클래스

```java
public class Circle {
    // 속성(필드)
    public int radius;

    // 생성자
    public Circle(int radius) {
        this.radius = radius;
    }

    // 기능(메서드)
    public double calculateArea() {
        return this.radius * this.radius * 3.14;
    }
}
```

**개선점:**
- 비슷한 속성과 기능끼리 클래스로 묶음
- 의미가 명확해짐
- 새로운 도형 추가 시 Main 클래스가 복잡해지지 않음

---

## 객체(Object)와 인스턴스(Instance)

### 객체란?

**객체(Object)**는 클래스라는 설계도를 바탕으로 메모리에 **실체화된 존재**입니다.

- **클래스**: 설계도 (붕어빵 틀)
- **객체**: 설계도로 만든 실체 (붕어빵)

**인스턴스(Instance)**는 특정 클래스로부터 생성된 객체를 의미합니다. 객체와 인스턴스는 거의 같은 의미로 사용됩니다.

### 객체 생성 문법

```java
클래스명 변수명 = new 클래스명(인자);
```

**예시:**
```java
Rectangle rectangle = new Rectangle(10, 5);
Circle circle = new Circle(5);
```

**JavaScript 비교**:
```javascript
let rectangle = new Rectangle(10, 5);
let circle = new Circle(5);
```

### `new` 키워드

`new` 키워드는 다음 작업을 수행합니다:
1. 메모리에 객체를 위한 공간 할당
2. 생성자 호출하여 초기화
3. 객체의 참조(주소) 반환

---

## 객체 지향 프로그래밍 (OOP)

### 클래스 기반 코드로 개선

기존 코드를 클래스 기반으로 개선해봅시다.

```java
public class Main {
    public static void main(String[] args) {
        // 첫 번째 사각형
        Rectangle rectangle1 = new Rectangle(10, 5);
        int rectangleArea1 = rectangle1.calculateArea();
        System.out.println(rectangleArea1);  // 50

        // 두 번째 사각형
        Rectangle rectangle2 = new Rectangle(7, 3);
        int rectangleArea2 = rectangle2.calculateArea();
        System.out.println(rectangleArea2);  // 21

        // 세 번째 사각형
        Rectangle rectangle3 = new Rectangle(1, 10);
        int rectangleArea3 = rectangle3.calculateArea();
        System.out.println(rectangleArea3);  // 10

        // 첫 번째 원
        Circle circle1 = new Circle(5);
        double circleArea1 = circle1.calculateArea();
        System.out.println(circleArea1);  // 78.5

        // 두 번째 원
        Circle circle2 = new Circle(10);
        double circleArea2 = circle2.calculateArea();
        System.out.println(circleArea2);  // 314.0
    }
}
```

**개선점:**
- Main 클래스는 객체를 생성하고 메서드를 호출하는 역할만 담당
- 구체적인 구현은 각 클래스에서 책임
- `rectangle.calculateArea()`로 의미가 명확함
- 새로운 도형 추가 시 Main 클래스 변경 불필요

### 객체 지향 프로그래밍이란?

**객체 지향 프로그래밍(Object-Oriented Programming, OOP)**은 객체들이 각자의 책임을 가지고, 서로 협력하여 프로그램을 구성하는 프로그래밍 방식입니다.

**핵심 개념:**
- **책임 분리**: 각 객체가 자신의 데이터와 기능을 스스로 관리
- **캡슐화**: 관련 데이터와 기능을 하나로 묶음
- **재사용성**: 클래스를 한 번 정의하면 여러 객체 생성 가능
- **유지보수**: 변경 사항이 해당 클래스에만 영향

**JavaScript 비교**: JavaScript는 프로토타입 기반 OOP를 사용하지만, ES6 이후 클래스 문법으로 Java와 유사하게 작성 가능합니다. 하지만 내부적으로는 여전히 프로토타입 기반입니다.

---

## 객체와 인스턴스의 차이

두 용어는 거의 같은 의미이지만 미묘한 차이가 있습니다:

- **객체**: 모든 인스턴스를 대표하는 포괄적 개념
- **인스턴스**: 특정 클래스로부터 생성된 객체

**예시:**
```java
Rectangle rectangle = new Rectangle(10, 5);
```

- ✅ "rectangle은 객체다"
- ✅ "rectangle은 Rectangle 클래스의 인스턴스다"
- ❌ "rectangle은 인스턴스다" (어색함 - 어떤 클래스의?)

실제로는 두 용어를 엄격히 구분하지 않고 혼용해도 무방합니다.

---

## 클래스는 타입이다

**중요**: 클래스는 새로운 **데이터 타입**을 정의하는 것입니다.

```java
int number = 10;           // 기본형 타입
String text = "Hello";     // 참조형 타입 (String 클래스)
Rectangle rect = new Rectangle(10, 5);  // 참조형 타입 (Rectangle 클래스)
```

**JavaScript 비교**: JavaScript에서는 typeof로 타입 확인 시 모두 'object'로 나타납니다.
```javascript
console.log(typeof rectangle);  // "object"
```

Java에서는 클래스 자체가 타입이므로:
```java
Rectangle rect1 = new Rectangle(10, 5);  // Rectangle 타입
// Circle rect2 = new Rectangle(10, 5);  // 에러! 타입 불일치
```

---

## 실습 문제

### 문제 1: Person 클래스
이름(name), 나이(age)를 속성으로 가지는 `Person` 클래스를 구현하세요.

**요구사항:**
- 생성자로 이름과 나이 초기화
- 정보를 출력하는 `printInfo()` 메서드 작성

**예상 출력:**
```
이름: 홍길동, 나이: 25세
```

<details>
<summary>해답</summary>

```java
public class Person {
    public String name;
    public int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public void printInfo() {
        System.out.println("이름: " + this.name + ", 나이: " + this.age + "세");
    }
}

// 테스트 코드
public class Main {
    public static void main(String[] args) {
        Person person = new Person("홍길동", 25);
        person.printInfo();
    }
}
```
</details>

### 문제 2: Dog 클래스
견종(breed), 이름(name)을 속성으로 가지고, "앉아"(`sit()`), "손"(`hand()`) 기능을 가진 `Dog` 클래스를 구현하세요.

**예상 출력:**
```
진돗개 백구가 앉았습니다.
진돗개 백구가 손을 내밀었습니다.
```

<details>
<summary>해답</summary>

```java
public class Dog {
    public String breed;
    public String name;

    public Dog(String breed, String name) {
        this.breed = breed;
        this.name = name;
    }

    public void sit() {
        System.out.println(this.breed + " " + this.name + "가 앉았습니다.");
    }

    public void hand() {
        System.out.println(this.breed + " " + this.name + "가 손을 내밀었습니다.");
    }
}

// 테스트 코드
public class Main {
    public static void main(String[] args) {
        Dog dog = new Dog("진돗개", "백구");
        dog.sit();
        dog.hand();
    }
}
```
</details>

### 문제 3: Car 클래스
다음 요구사항에 맞는 `Car` 클래스를 구현하세요.

**속성:**
- 모델명(model)
- 속도(speed)

**기능:**
- `accelerate()`: 속도 10 증가
- `brake()`: 속도 10 감소
- `printInfo()`: 모델명과 현재 속도 출력

**테스트 코드:**
```java
Car car = new Car("Avante", 0);
car.accelerate();  // 속도 10
car.accelerate();  // 속도 20
car.accelerate();  // 속도 30
car.brake();       // 속도 20
car.printInfo();   // 모델: Avante, 속도: 20km/h
```

<details>
<summary>해답</summary>

```java
public class Car {
    public String model;
    public int speed;

    public Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }

    public void accelerate() {
        this.speed += 10;
    }

    public void brake() {
        this.speed -= 10;
    }

    public void printInfo() {
        System.out.println("모델: " + this.model + ", 속도: " + this.speed + "km/h");
    }
}

// 테스트 코드
public class Main {
    public static void main(String[] args) {
        Car car = new Car("Avante", 0);
        car.accelerate();
        car.accelerate();
        car.accelerate();
        car.brake();
        car.printInfo();
    }
}
```
</details>

---

## 요약

- **클래스**: 속성과 기능을 묶어 새로운 타입을 정의하는 설계도
- **객체/인스턴스**: 클래스로부터 생성된 실체
- **객체 생성**: `new` 키워드 사용
- **OOP**: 객체들이 각자 책임을 가지고 협력하는 프로그래밍 방식
- **장점**: 코드 재사용성, 유지보수성, 확장성 향상
- **JavaScript 비교**: ES6 class는 문법적 설탕, Java는 진정한 클래스 기반 OOP
