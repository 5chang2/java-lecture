# 접근 제어자

## 접근 제어자(Access Modifier) 란?

### 개념

접근 제어자(Access Modifier)란, 변수나 메서드 그리고 클래스를 외부에서 접근하지 못하도록 제한하는데 사용하는 키워드를 말한다. `클래스, 클래스 변수, 인스턴스 변수, 메서드, 생성자`에 붙여 이들에 대한 접근을 제어한다.

접근 제어자의 `장점`은 아래와 같다.

- 클래스 내부에 선언된 데이터를 보호하기 위함이다.
- 클래스 내에서만 사용되는 변수나 메서드를 클래스 내부에 감추어, 외부에서 사용되지 않는 불필요한 정보들을 드러내지 않아 복잡성을 줄이기 위함이다.

### 종류

접근 제어자는 아래와 같이 네 가지가 존재한다.

- `private` : 같은 클래스에서만 접근할 수 있다.
- `default` : 같은 패키지에서만 접근할 수 있다. (접근 제어자 생략 시, 기본적으로 default로 취급)
- `protected` : 같은 패키지에서 접근할 수 있다. 다른 패키지이더라도 자식 클래스라면 접근할 수 있다.
- `public` : 접근 제한이 없다. 모든 곳에서 접근할 수 있다.

### 사용 가능 대상

접근 제어자는 대상에 따라 사용 가능 여부가 달라진다.

- `클래스`에는 public, default를 사용할 수 있다.
- `클래스 변수, 인스턴스 변수, 메서드`에는 public, protected, default, private을 사용할 수 있다.
- `지역 변수` : 접근 제어자를 사용할 수 없다.

---

## private

`같은 클래스`에서만 대상에 접근할 수 있다.

```java
public class PrivateClass {

    private int number = 1;
}
```

```java
public class Main {

    public static void main(String[] args) {
        PrivateClass privateClass = new PrivateClass();
        System.out.println(privateClass.number); // 다른 클래스인 Main에서는 접근 불가능
    }
}
```

```
error: number has private access in PrivateClass
```

- number라는 변수는 private으로 선언되어 있으므로, PrivateClass 자기 자신을 제외한 다른 클래스에서는 접근할 수 없다.

따라서, Main에서는 접근할 수 없으므로, number의 값을 사용하기 위해서는 `getter`를 사용한다.

```java
public class PrivateClass {

    private int number = 1;

    // getter 자체는 public으로 공개하여 외부에서 값을 조회할 수 있도록 한다.
    public int getNumber() {
        return this.number;
    }
}
```

```java
public class Main {

    public static void main(String[] args) {
        PrivateClass privateClass = new PrivateClass();
        System.out.println(privateClass.getNumber());
    }
}
```

```
1
```

- PrivateClass에 number 값을 반환할 수 있는 별도의 메서드인 `getNumber()`를 정의하였다.
- 이제 Main 클래스에서 number 대신 `getNumber()`를 이용해 number 값을 조회할 수 있다.

---

## default

> `같은 패키지`에서만 접근할 수 있다. 접근 제어자 생략 시, 기본적으로 default로 취급한다.

```java
package com.test.p2;

public class DefaultClass {

    int number = 1; // 접근 제어자 생략 시, 기본적으로 default로 취급
}
```

```java
package com.test.p1;

import com.test.p2.DefaultClass;

public class Main {

    public static void main(String[] args) {
        DefaultClass defaultClass = new DefaultClass();
        System.out.println(defaultClass.number); // 다른 패키지인 p1에서는 접근 불가능
    }
}
```

```
error: number is not public in DefaultClass; cannot be accessed from outside package
```

- number라는 변수는 접근 제어자가 생략되어 있어 default 접근 제어로 취급된다. 따라서, DefaultClass가 속한 p2 패키지 내에서만 number에 접근할 수 있다.
- 정확하게 DefaultClass가 속한 p2 패키지에서만 접근할 수 있다. p2 패키지의 상위 패키지이거나 하위 패키지라고 할지라도, 구체적인 패키지 경로가 다르므로 접근할 수 없다.

---

## protected

> `같은 패키지`에서 접근할 수 있다. `다른 패키지이더라도 자식 클래스`라면 접근할 수 있다.

```java
package com.test.p2;

public class ParentClass {

    protected int parentNumber = 1;
}
```

```java
package com.test.p1;

import com.test.p2.ParentClass;

public class ChildClass extends ParentClass {

    public int childNumber = parentNumber + 1; // 부모 클래스의 인스턴스 변수 접근 가능
}
```

- 서로 다른 패키지에 ParentClass와 ChildClass를 만든다. ChildClass는 ParentClass를 상속 받고 있으므로, 자식 클래스에 해당한다.
- p1과 p2라는 서로 다른 패키지이지만, protected 키워드로 인해 자식 클래스인 ChildClass에서 부모 클래스의 인스턴스 변수인 parentNumber를 사용할 수 있다.

---

## public

> 접근 제한이 없다. `모든 곳`에서 접근할 수 있다.

가장 자유로운 접근 제한자로써, 같은 패키지 여부나 상속 관계와 상관없이 어디서든 해당 클래스의 변수나 메서드에 접근할 수 있다.

하지만, 모든 곳에서 접근할 수 있으므로 public 멤버가 변경될 경우 프로그램 전체에 영향을 미칠 수 있음을 주의해야 한다. 따라서, 데이터에 대한 보호가 필요한 경우에는 private나 protected를 우선적으로 고려한다.



## 정리
| **접근 제어자** | **같은 클래스** | **같은 패키지** | **자식 클래스 (다른 패키지)** | **그 외 (다른 패키지)** |
| ---------- | ---------- | ---------- | ------------------- | ---------------- |
| private    | O          | X          | X                   | X                |
| default    | O          | O          | X                   | X                |
| protected  | O          | O          | O                   | X                |
| public     | O          | O          | O                   | O                |